webpackJsonp([4],[,,,,,,,function(t,e,n){function i(t,e,n,i,a){var s=r.defer(),l=new XMLHttpRequest;return l.open(e,t,!0),l.onload=function(){l.status>=200&&l.status<400?s.resolve({data:i?l.responseText:JSON.parse(l.responseText),status:l.status,url:l.responseURL}):s.reject({status:l.status})},l.onerror=function(){s.reject("Error in xhr."+e)},o.isReadcubeUrl(t)&&c.forEach(function(t){l.setRequestHeader(t[0],t[1])}),a&&l.setRequestHeader("Accept",a),n?(l.setRequestHeader("Content-Type","application/json; charset=UTF-8"),l.send(JSON.stringify(n))):l.send(),s.promise}var r=n(8),o=n(13),a=n(5).sprintf,s=n(0),l=chrome.runtime.getManifest().version,c=[["Sync-Version",s.HEADER_SYNC_VERSION],["X-Readcube-Sync-Token",a(s.HEADER_VALUE_SYNC_TOKEN,l)],["X-Readcube-Sync-Client",a(s.HEADER_VALUE_SYNC_CLIENT,"chrome",l)]];!function(){var t}();t.exports={get:function(t,e,n){return i(t,"GET",null,e,n)},patch:function(t,e){return i(t,"PATCH",e)},delete:function(t){return i(t,"DELETE")},post:function(t,e){return i(t,"POST",e)}}},function(t,e,n){(function(e,n){/*!
 *
 * Copyright 2009-2012 Kris Kowal under the terms of the MIT
 * license found at http://github.com/kriskowal/q/raw/master/LICENSE
 *
 * With parts by Tyler Close
 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
 * at http://www.opensource.org/licenses/mit-license.html
 * Forked at ref_send.js version: 2009-05-11
 *
 * With parts by Mark Miller
 * Copyright (C) 2011 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */
!function(e){"use strict";if("function"==typeof bootstrap)bootstrap("promise",e);else{t.exports=e()}}(function(){"use strict";function t(t){return function(){return q.apply(t,arguments)}}function i(t){return t===Object(t)}function r(t){return"[object StopIteration]"===nt(t)||t instanceof V}function o(t,e){if($&&e.stack&&"object"==typeof t&&null!==t&&t.stack&&-1===t.stack.indexOf(it)){for(var n=[],i=e;i;i=i.source)i.stack&&n.unshift(i.stack);n.unshift(t.stack);var r=n.join("\n"+it+"\n");t.stack=a(r)}}function a(t){for(var e=t.split("\n"),n=[],i=0;i<e.length;++i){var r=e[i];c(r)||s(r)||!r||n.push(r)}return n.join("\n")}function s(t){return-1!==t.indexOf("(module.js:")||-1!==t.indexOf("(node.js:")}function l(t){var e=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(e)return[e[1],Number(e[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(n)return[n[1],Number(n[2])];var i=/.*@(.+):(\d+)$/.exec(t);return i?[i[1],Number(i[2])]:void 0}function c(t){var e=l(t);if(!e)return!1;var n=e[0],i=e[1];return n===H&&i>=W&&i<=lt}function A(){if($)try{throw new Error}catch(i){var t=i.stack.split("\n"),e=t[0].indexOf("@")>0?t[1]:t[2],n=l(e);if(!n)return;return H=n[0],n[1]}}function u(t){return t instanceof f?t:B(t)?w(t):I(t)}function F(){function t(t){e=t,o.source=t,K(n,function(e,n){u.nextTick(function(){t.promiseDispatch.apply(t,n)})},void 0),n=void 0,i=void 0}var e,n=[],i=[],r=Z(F.prototype),o=Z(f.prototype);if(o.promiseDispatch=function(t,r,o){var a=z(arguments);n?(n.push(a),"when"===r&&o[1]&&i.push(o[1])):u.nextTick(function(){e.promiseDispatch.apply(e,a)})},o.valueOf=function(){if(n)return o;var t=p(e);return D(t)&&(e=t),t},o.inspect=function(){return e?e.inspect():{state:"pending"}},u.longStackSupport&&$)try{throw new Error}catch(t){o.stack=t.stack.substring(t.stack.indexOf("\n")+1)}return r.promise=o,r.resolve=function(n){e||t(u(n))},r.fulfill=function(n){e||t(I(n))},r.reject=function(n){e||t(y(n))},r.notify=function(t){e||K(i,function(e,n){u.nextTick(function(){n(t)})},void 0)},r}function E(t){if("function"!=typeof t)throw new TypeError("resolver must be a function.");var e=F();try{t(e.resolve,e.reject,e.notify)}catch(t){e.reject(t)}return e.promise}function d(t){return E(function(e,n){for(var i=0,r=t.length;i<r;i++)u(t[i]).then(e,n)})}function f(t,e,n){void 0===e&&(e=function(t){return y(new Error("Promise does not support operation: "+t))}),void 0===n&&(n=function(){return{state:"unknown"}});var i=Z(f.prototype);if(i.promiseDispatch=function(n,r,o){var a;try{a=t[r]?t[r].apply(i,o):e.call(i,r,o)}catch(t){a=y(t)}n&&n(a)},i.inspect=n,n){var r=n();"rejected"===r.state&&(i.exception=r.reason),i.valueOf=function(){var t=n();return"pending"===t.state||"rejected"===t.state?i:t.value}}return i}function C(t,e,n,i){return u(t).then(e,n,i)}function p(t){if(D(t)){var e=t.inspect();if("fulfilled"===e.state)return e.value}return t}function D(t){return t instanceof f}function B(t){return i(t)&&"function"==typeof t.then}function h(t){return D(t)&&"pending"===t.inspect().state}function g(t){return!D(t)||"fulfilled"===t.inspect().state}function v(t){return D(t)&&"rejected"===t.inspect().state}function m(){rt.length=0,ot.length=0,st||(st=!0)}function _(t,n){st&&("object"==typeof e&&"function"==typeof e.emit&&u.nextTick.runAfter(function(){-1!==J(ot,t)&&(e.emit("unhandledRejection",n,t),at.push(t))}),ot.push(t),n&&void 0!==n.stack?rt.push(n.stack):rt.push("(no stack) "+n))}function b(t){if(st){var n=J(ot,t);-1!==n&&("object"==typeof e&&"function"==typeof e.emit&&u.nextTick.runAfter(function(){var i=J(at,t);-1!==i&&(e.emit("rejectionHandled",rt[n],t),at.splice(i,1))}),ot.splice(n,1),rt.splice(n,1))}}function y(t){var e=f({when:function(e){return e&&b(this),e?e(t):this}},function(){return this},function(){return{state:"rejected",reason:t}});return _(e,t),e}function I(t){return f({when:function(){return t},get:function(e){return t[e]},set:function(e,n){t[e]=n},delete:function(e){delete t[e]},post:function(e,n){return null===e||void 0===e?t.apply(void 0,n):t[e].apply(t,n)},apply:function(e,n){return t.apply(e,n)},keys:function(){return et(t)}},void 0,function(){return{state:"fulfilled",value:t}})}function w(t){var e=F();return u.nextTick(function(){try{t.then(e.resolve,e.reject,e.notify)}catch(t){e.reject(t)}}),e.promise}function T(t){return f({isDef:function(){}},function(e,n){return R(t,e,n)},function(){return u(t).inspect()})}function S(t,e,n){return u(t).spread(e,n)}function L(t){return function(){function e(t,e){var a;if("undefined"==typeof StopIteration){try{a=n[t](e)}catch(t){return y(t)}return a.done?u(a.value):C(a.value,i,o)}try{a=n[t](e)}catch(t){return r(t)?u(t.value):y(t)}return C(a,i,o)}var n=t.apply(this,arguments),i=e.bind(e,"next"),o=e.bind(e,"throw");return i()}}function x(t){u.done(u.async(t)())}function P(t){throw new V(t)}function O(t){return function(){return S([this,U(arguments)],function(e,n){return t.apply(e,n)})}}function R(t,e,n){return u(t).dispatch(e,n)}function U(t){return C(t,function(t){var e=0,n=F();return K(t,function(i,r,o){var a;D(r)&&"fulfilled"===(a=r.inspect()).state?t[o]=a.value:(++e,C(r,function(i){t[o]=i,0==--e&&n.resolve(t)},n.reject,function(t){n.notify({index:o,value:t})}))},void 0),0===e&&n.resolve(t),n.promise})}function N(t){if(0===t.length)return u.resolve();var e=u.defer(),n=0;return K(t,function(i,r,o){function a(t){e.resolve(t)}function s(){0===--n&&e.reject(new Error("Can't get fulfillment value from any promise, all promises were rejected."))}function l(t){e.notify({index:o,value:t})}var c=t[o];n++,C(c,a,s,l)},void 0),e.promise}function k(t){return C(t,function(t){return t=Q(t,u),C(U(Q(t,function(t){return C(t,Y,Y)})),function(){return t})})}function M(t){return u(t).allSettled()}function j(t,e){return u(t).then(void 0,void 0,e)}function G(t,e){return u(t).nodeify(e)}var $=!1;try{throw new Error}catch(t){$=!!t.stack}var H,V,W=A(),Y=function(){},X=function(){function t(){for(var t,e;r.next;)r=r.next,t=r.task,r.task=void 0,e=r.domain,e&&(r.domain=void 0,e.enter()),i(t,e);for(;c.length;)t=c.pop(),i(t);a=!1}function i(e,n){try{e()}catch(e){if(l)throw n&&n.exit(),setTimeout(t,0),n&&n.enter(),e;setTimeout(function(){throw e},0)}n&&n.exit()}var r={task:void 0,next:null},o=r,a=!1,s=void 0,l=!1,c=[];if(X=function(t){o=o.next={task:t,domain:l&&e.domain,next:null},a||(a=!0,s())},"object"==typeof e&&"[object process]"===e.toString()&&e.nextTick)l=!0,s=function(){e.nextTick(t)};else if("function"==typeof n)s="undefined"!=typeof window?n.bind(window,t):function(){n(t)};else if("undefined"!=typeof MessageChannel){var A=new MessageChannel;A.port1.onmessage=function(){s=u,A.port1.onmessage=t,t()};var u=function(){A.port2.postMessage(0)};s=function(){setTimeout(t,0),u()}}else s=function(){setTimeout(t,0)};return X.runAfter=function(t){c.push(t),a||(a=!0,s())},X}(),q=Function.call,z=t(Array.prototype.slice),K=t(Array.prototype.reduce||function(t,e){var n=0,i=this.length;if(1===arguments.length)for(;;){if(n in this){e=this[n++];break}if(++n>=i)throw new TypeError}for(;n<i;n++)n in this&&(e=t(e,this[n],n));return e}),J=t(Array.prototype.indexOf||function(t){for(var e=0;e<this.length;e++)if(this[e]===t)return e;return-1}),Q=t(Array.prototype.map||function(t,e){var n=this,i=[];return K(n,function(r,o,a){i.push(t.call(e,o,a,n))},void 0),i}),Z=Object.create||function(t){function e(){}return e.prototype=t,new e},tt=t(Object.prototype.hasOwnProperty),et=Object.keys||function(t){var e=[];for(var n in t)tt(t,n)&&e.push(n);return e},nt=t(Object.prototype.toString);V="undefined"!=typeof ReturnValue?ReturnValue:function(t){this.value=t};var it="From previous event:";u.resolve=u,u.nextTick=X,u.longStackSupport=!1,"object"==typeof e&&e&&e.env&&e.env.Q_DEBUG&&(u.longStackSupport=!0),u.defer=F,F.prototype.makeNodeResolver=function(){var t=this;return function(e,n){e?t.reject(e):arguments.length>2?t.resolve(z(arguments,1)):t.resolve(n)}},u.Promise=E,u.promise=E,E.race=d,E.all=U,E.reject=y,E.resolve=u,u.passByCopy=function(t){return t},f.prototype.passByCopy=function(){return this},u.join=function(t,e){return u(t).join(e)},f.prototype.join=function(t){return u([this,t]).spread(function(t,e){if(t===e)return t;throw new Error("Can't join: not the same: "+t+" "+e)})},u.race=d,f.prototype.race=function(){return this.then(u.race)},u.makePromise=f,f.prototype.toString=function(){return"[object Promise]"},f.prototype.then=function(t,e,n){function i(e){try{return"function"==typeof t?t(e):e}catch(t){return y(t)}}function r(t){if("function"==typeof e){o(t,s);try{return e(t)}catch(t){return y(t)}}return y(t)}function a(t){return"function"==typeof n?n(t):t}var s=this,l=F(),c=!1;return u.nextTick(function(){s.promiseDispatch(function(t){c||(c=!0,l.resolve(i(t)))},"when",[function(t){c||(c=!0,l.resolve(r(t)))}])}),s.promiseDispatch(void 0,"when",[void 0,function(t){var e,n=!1;try{e=a(t)}catch(t){if(n=!0,!u.onerror)throw t;u.onerror(t)}n||l.notify(e)}]),l.promise},u.tap=function(t,e){return u(t).tap(e)},f.prototype.tap=function(t){return t=u(t),this.then(function(e){return t.fcall(e).thenResolve(e)})},u.when=C,f.prototype.thenResolve=function(t){return this.then(function(){return t})},u.thenResolve=function(t,e){return u(t).thenResolve(e)},f.prototype.thenReject=function(t){return this.then(function(){throw t})},u.thenReject=function(t,e){return u(t).thenReject(e)},u.nearer=p,u.isPromise=D,u.isPromiseAlike=B,u.isPending=h,f.prototype.isPending=function(){return"pending"===this.inspect().state},u.isFulfilled=g,f.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},u.isRejected=v,f.prototype.isRejected=function(){return"rejected"===this.inspect().state};var rt=[],ot=[],at=[],st=!0;u.resetUnhandledRejections=m,u.getUnhandledReasons=function(){return rt.slice()},u.stopUnhandledRejectionTracking=function(){m(),st=!1},m(),u.reject=y,u.fulfill=I,u.master=T,u.spread=S,f.prototype.spread=function(t,e){return this.all().then(function(e){return t.apply(void 0,e)},e)},u.async=L,u.spawn=x,u.return=P,u.promised=O,u.dispatch=R,f.prototype.dispatch=function(t,e){var n=this,i=F();return u.nextTick(function(){n.promiseDispatch(i.resolve,t,e)}),i.promise},u.get=function(t,e){return u(t).dispatch("get",[e])},f.prototype.get=function(t){return this.dispatch("get",[t])},u.set=function(t,e,n){return u(t).dispatch("set",[e,n])},f.prototype.set=function(t,e){return this.dispatch("set",[t,e])},u.del=u.delete=function(t,e){return u(t).dispatch("delete",[e])},f.prototype.del=f.prototype.delete=function(t){return this.dispatch("delete",[t])},u.mapply=u.post=function(t,e,n){return u(t).dispatch("post",[e,n])},f.prototype.mapply=f.prototype.post=function(t,e){return this.dispatch("post",[t,e])},u.send=u.mcall=u.invoke=function(t,e){return u(t).dispatch("post",[e,z(arguments,2)])},f.prototype.send=f.prototype.mcall=f.prototype.invoke=function(t){return this.dispatch("post",[t,z(arguments,1)])},u.fapply=function(t,e){return u(t).dispatch("apply",[void 0,e])},f.prototype.fapply=function(t){return this.dispatch("apply",[void 0,t])},u.try=u.fcall=function(t){return u(t).dispatch("apply",[void 0,z(arguments,1)])},f.prototype.fcall=function(){return this.dispatch("apply",[void 0,z(arguments)])},u.fbind=function(t){var e=u(t),n=z(arguments,1);return function(){return e.dispatch("apply",[this,n.concat(z(arguments))])}},f.prototype.fbind=function(){var t=this,e=z(arguments);return function(){return t.dispatch("apply",[this,e.concat(z(arguments))])}},u.keys=function(t){return u(t).dispatch("keys",[])},f.prototype.keys=function(){return this.dispatch("keys",[])},u.all=U,f.prototype.all=function(){return U(this)},u.any=N,f.prototype.any=function(){return N(this)},u.allResolved=function(t,e,n){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e+" is deprecated, use "+n+" instead.",new Error("").stack),t.apply(t,arguments)}}(k,"allResolved","allSettled"),f.prototype.allResolved=function(){return k(this)},u.allSettled=M,f.prototype.allSettled=function(){return this.then(function(t){return U(Q(t,function(t){function e(){return t.inspect()}return t=u(t),t.then(e,e)}))})},u.fail=u.catch=function(t,e){return u(t).then(void 0,e)},f.prototype.fail=f.prototype.catch=function(t){return this.then(void 0,t)},u.progress=j,f.prototype.progress=function(t){return this.then(void 0,void 0,t)},u.fin=u.finally=function(t,e){return u(t).finally(e)},f.prototype.fin=f.prototype.finally=function(t){return t=u(t),this.then(function(e){return t.fcall().then(function(){return e})},function(e){return t.fcall().then(function(){throw e})})},u.done=function(t,e,n,i){return u(t).done(e,n,i)},f.prototype.done=function(t,n,i){var r=function(t){u.nextTick(function(){if(o(t,a),!u.onerror)throw t;u.onerror(t)})},a=t||n||i?this.then(t,n,i):this;"object"==typeof e&&e&&e.domain&&(r=e.domain.bind(r)),a.then(void 0,r)},u.timeout=function(t,e,n){return u(t).timeout(e,n)},f.prototype.timeout=function(t,e){var n=F(),i=setTimeout(function(){e&&"string"!=typeof e||(e=new Error(e||"Timed out after "+t+" ms"),e.code="ETIMEDOUT"),n.reject(e)},t);return this.then(function(t){clearTimeout(i),n.resolve(t)},function(t){clearTimeout(i),n.reject(t)},n.notify),n.promise},u.delay=function(t,e){return void 0===e&&(e=t,t=void 0),u(t).delay(e)},f.prototype.delay=function(t){return this.then(function(e){var n=F();return setTimeout(function(){n.resolve(e)},t),n.promise})},u.nfapply=function(t,e){return u(t).nfapply(e)},f.prototype.nfapply=function(t){var e=F(),n=z(t);return n.push(e.makeNodeResolver()),this.fapply(n).fail(e.reject),e.promise},u.nfcall=function(t){var e=z(arguments,1);return u(t).nfapply(e)},f.prototype.nfcall=function(){var t=z(arguments),e=F();return t.push(e.makeNodeResolver()),this.fapply(t).fail(e.reject),e.promise},u.nfbind=u.denodeify=function(t){var e=z(arguments,1);return function(){var n=e.concat(z(arguments)),i=F();return n.push(i.makeNodeResolver()),u(t).fapply(n).fail(i.reject),i.promise}},f.prototype.nfbind=f.prototype.denodeify=function(){var t=z(arguments);return t.unshift(this),u.denodeify.apply(void 0,t)},u.nbind=function(t,e){var n=z(arguments,2);return function(){function i(){return t.apply(e,arguments)}var r=n.concat(z(arguments)),o=F();return r.push(o.makeNodeResolver()),u(i).fapply(r).fail(o.reject),o.promise}},f.prototype.nbind=function(){var t=z(arguments,0);return t.unshift(this),u.nbind.apply(void 0,t)},u.nmapply=u.npost=function(t,e,n){return u(t).npost(e,n)},f.prototype.nmapply=f.prototype.npost=function(t,e){var n=z(e||[]),i=F();return n.push(i.makeNodeResolver()),this.dispatch("post",[t,n]).fail(i.reject),i.promise},u.nsend=u.nmcall=u.ninvoke=function(t,e){var n=z(arguments,2),i=F();return n.push(i.makeNodeResolver()),u(t).dispatch("post",[e,n]).fail(i.reject),i.promise},f.prototype.nsend=f.prototype.nmcall=f.prototype.ninvoke=function(t){var e=z(arguments,1),n=F();return e.push(n.makeNodeResolver()),this.dispatch("post",[t,e]).fail(n.reject),n.promise},u.nodeify=G,f.prototype.nodeify=function(t){if(!t)return this;this.then(function(e){u.nextTick(function(){t(null,e)})},function(e){u.nextTick(function(){t(e)})})},u.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var lt=A();return u})}).call(e,n(14),n(20).setImmediate)},,function(t,e,n){var i=n(3),r=n(1),o=n(4),a=n(5).sprintf,s=n(2),l=n(0),c=n(72);t.exports=i(c,{insertAngularDirectives:function(){if(0==this.getArticleHolders().length)return!1;var t=o("body");return t.attr({"ng-controller":"List as list"}),t.append(n(30)),this.insertButtons(),!0},bootstrapAngular:function(){s.bootstrap(o("body").get(0),["App"],{strictDi:!0})},get:function(){return r.map(this.getArticleHolders(),function(t){var e=o(t);return r.extend(this.getIdentifiers(e),{metadata:this.getMetadata(e)})}.bind(this))},getPlain:function(){return r.map(this.getArticleHolders(),function(t){return this.getIdentifiers(o(t))}.bind(this))},getIdentifiers:function(t){return{doi:null,pmid:null,gsid:null}},getMetadata:function(t){return{title:null,journal:null,year:null,authors:[]}},getArticleHolders:function(){return[]},isAbstractPage:function(){return!0},getButtonHolder:function(t){return t},insertButtons:function(){var t=n(59);r.each(this.getArticleHolders(),function(e,n){var i=a(t,n);this.getButtonHolder(o(e)).append(i)}.bind(this))},getAngularInjector:function(t,e){return e||(e=["$q","$http"]),e.push(t),s.injector(["ng"]).invoke(e)},getExecutePromise:function(){return this.getAngularInjector(function(t){return t.resolve("The angular app can be inserted")},["$q"])},getDoiFromElement:function(t){return t&&0!=t.length?r.get(t.text().match(l.REGEXP_DOI),"[0]",null):null}})},function(t,e){t.exports={100:"Continue",101:"Switching Protocols",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range not Satisfiable",417:"Expectation Failed",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",429:"Too Many Requests",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version not Supported",507:"Insufficient Storage",CONTINUE:100,SWITCHING_PROTOCOLS:101,OK:200,CREATED:201,ACCEPTED:202,NON_AUTHORITATIVE_INFORMATION:203,NO_CONTENT:204,RESET_CONTENT:205,PARTIAL_CONTENT:206,MULTIPLE_CHOICES:300,MOVED_PERMANENTLY:301,FOUND:302,SEE_OTHER:303,NOT_MODIFIED:304,USE_PROXY:305,TEMPORARY_REDIRECT:307,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,NOT_ACCEPTABLE:406,PROXY_AUTHENTICATION_REQUIRED:407,REQUEST_TIMEOUT:408,CONFLICT:409,GONE:410,LENGTH_REQUIRED:411,PRECONDITION_FAILED:412,REQUEST_ENTITY_TOO_LARGE:413,REQUEST_URI_TOO_LONG:414,UNSUPPORTED_MEDIA_TYPE:415,REQUESTED_RANGE_NOT_SATISFIABLE:416,EXPECTATION_FAILED:417,UNPROCESSABLE_ENTITY:422,LOCKED:423,FAILED_DEPENDENCY:424,TOO_MANY_REQUESTS:429,UNAVAILABLE_FOR_LEGAL_REASONS:451,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,HTTP_VERSION_NOT_SUPPORTED:505,INSUFFICIENT_STORAGE:507}},function(t,e,n){var i=n(1),r=n(0),o=n(78);t.exports={splitAuthorString:function(t){return i.chain(t.split(/,\s|\sand\s/)).map(function(t){return i.trim(t)}).filter(function(t){return t}).value()},getAuthorsArray:function(t){return i.chain(t).thru(function(t){return t&&0!=t.length?t.split(","):[]}).map(function(t){return i.trim(t)}).value()},refmanToMetadata:function(t){function e(t){var e=i.find(n,function(e){return e[0]==t});return e?e[1]:""}var n=t.split("\r\n").filter(function(t){return t}).reduce(function(t,e){var n=e.split("  - ");return t.push(n),t},[]),a=i.flow([o.default,o.fullnameForAuthor]),s=n.reduce(function(t,e){return"A1"==e[0]&&t.push(a(e[1])),t},[]),l=i.get(e("Y1").match(r.REGEXP_YEAR),"0","");return{title:e("T1"),journal:e("JO"),year:l,authors:s,volume:e("VL")}}}},function(t,e,n){var i=n(1),r=n(9),o=n(0),a={getPdfFilenameFromUrl:function(t){return"string"!=typeof t||0===t.length?"":i.chain(r.parse(t)).get("pathname","").thru(function(t){return t.split("/")}).last().thru(function(t){var e=decodeURIComponent(t).toLowerCase();return i.endsWith(e,".pdf")?e:""}).value()},isReadcubeUrl:function(t){return-1!==t.indexOf(o.DOMAIN_READCUBE)},isUrlAbsolute:function(t){return t.indexOf("://")>0||0===t.indexOf("//")},isProtocol:function(t,e){return"string"==typeof t&&0!=t.length&&i.chain(r.parse(t)).get("protocol","").thru(function(t){return-1!==e.indexOf(t)}).value()},getHostnameFromUrl:function(t){return"string"!=typeof t||0===t.length?"":r.parse(t).hostname},getUrlWithoutQuery:function(t){return"string"!=typeof t||0===t.length?"":r.format(i.extend(r.parse(t),{hash:null,query:null,search:null}))},publisherWebsiteRegExps:i.reduce(o,function(t,e,n){return n.indexOf("URL_REGEXP_PUBLISHER")>-1?t.concat(e):t},[]),isPublisherWebsite:function(t){if("string"!=typeof t||0===t.length)return!1;var e=a.getUrlWithoutQuery(t);return a.publisherWebsiteRegExps.some(function(t){return"string"==typeof t?-1!==t.indexOf(e):t.test(e)})},isRsc:function(t){if("string"!=typeof t||0===t.length)return!1;var e=a.getUrlWithoutQuery(t);return o.URL_REGEXP_PUBLISHER_RSC.test(e)},isGoogleScholar:function(t){if("string"!=typeof t||0===t.length)return!1;var e=a.getUrlWithoutQuery(t);return o.URL_REGEXP_SOURCE_GOOGLE_SCHOLAR.test(e)},isPubmed:function(t){if("string"!=typeof t||0===t.length)return!1;var e=a.getUrlWithoutQuery(t);return o.URL_REGEXP_SOURCE_PUBMED.test(e)},isReadcubeWebLibrary:function(t){if("string"!=typeof t||0===t.length)return!1;var e=a.getUrlWithoutQuery(t);return o.URL_REGEXP_WEB_LIBRARY_URL.test(e)}};t.exports=a},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(t){if(A===setTimeout)return setTimeout(t,0);if((A===n||!A)&&setTimeout)return A=setTimeout,setTimeout(t,0);try{return A(t,0)}catch(e){try{return A.call(null,t,0)}catch(e){return A.call(this,t,0)}}}function o(t){if(u===clearTimeout)return clearTimeout(t);if((u===i||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(t);try{return u(t)}catch(e){try{return u.call(null,t)}catch(e){return u.call(this,t)}}}function a(){f&&E&&(f=!1,E.length?d=E.concat(d):C=-1,d.length&&s())}function s(){if(!f){var t=r(a);f=!0;for(var e=d.length;e;){for(E=d,d=[];++C<e;)E&&E[C].run();C=-1,e=d.length}E=null,f=!1,o(t)}}function l(t,e){this.fun=t,this.array=e}function c(){}var A,u,F=t.exports={};!function(){try{A="function"==typeof setTimeout?setTimeout:n}catch(t){A=n}try{u="function"==typeof clearTimeout?clearTimeout:i}catch(t){u=i}}();var E,d=[],f=!1,C=-1;F.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new l(t,e)),1!==d.length||f||r(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},F.title="browser",F.browser=!0,F.env={},F.argv=[],F.version="",F.versions={},F.on=c,F.addListener=c,F.once=c,F.off=c,F.removeListener=c,F.removeAllListeners=c,F.emit=c,F.prependListener=c,F.prependOnceListener=c,F.listeners=function(t){return[]},F.binding=function(t){throw new Error("process.binding is not supported")},F.cwd=function(){return"/"},F.chdir=function(t){throw new Error("process.chdir is not supported")},F.umask=function(){return 0}},function(t,e,n){var i=n(3),r=n(1),o=n(0);n(9);t.exports=i({__constructor:function(t){this.id=null,this.pmid=null,this.doi=null,this.gsid=null,this.inLibraryStatus=o.STATUS_NOT_FOUND,this.isReadyForShowing=!1,this.metadata={},this.pdfUrl=null,this.usingPdfUrl=null,this.url=null,this.pdfHash=null,this.hasPdf=!1,this.note="",this.progressPercent=0,this.progressType=o.PROGRESS_DOWNLOAD,r.isObject(t)&&this.extend(t)},extend:function(t){return r.extend(this,t),this},getIdentifiers:function(){return r.pick(this,["doi","pmid","gsid"])},setInLibraryStatus:function(t,e){return t==o.STATUS_IN_LIBRARY?e?this.hasPdf?this.inLibraryStatus=o.STATUS_IN_LIBRARY_WITH_PDF:this.inLibraryStatus=o.STATUS_IN_LIBRARY_WITHOUT_PDF:this.inLibraryStatus=this.hasPdf?o.STATUS_IN_LIBRARY_WITH_PDF:o.STATUS_IN_LIBRARY:this.inLibraryStatus=o.STATUS_NOT_FOUND,this},isProcessingStatus:function(){return this.inLibraryStatus==o.STATUS_METADATA_ADDING||this.inLibraryStatus==o.STATUS_PDF_DOWNLOADING},finishProcessingStatus:function(t){this.hasPdf?this.inLibraryStatus=o.STATUS_IN_LIBRARY_WITH_PDF:this.inLibraryStatus==o.STATUS_METADATA_ADDING?this.inLibraryStatus=o.STATUS_NOT_FOUND:this.inLibraryStatus==o.STATUS_PDF_DOWNLOADING&&(this.inLibraryStatus=t?o.STATUS_IN_LIBRARY_WITHOUT_PDF_WARNING_PROXY:o.STATUS_IN_LIBRARY_WITHOUT_PDF_WARNING)},isInLibrary:function(){var t=!1;switch(this.inLibraryStatus){case o.STATUS_IN_LIBRARY:case o.STATUS_IN_LIBRARY_WITH_PDF:case o.STATUS_IN_LIBRARY_WITHOUT_PDF:case o.STATUS_IN_LIBRARY_WITHOUT_PDF_WARNING:case o.STATUS_IN_LIBRARY_WITHOUT_PDF_WARNING_PROXY:t=!0}return t},isPdfDownloadFailed:function(){var t=!1;switch(this.inLibraryStatus){case o.STATUS_IN_LIBRARY_WITHOUT_PDF_WARNING:case o.STATUS_IN_LIBRARY_WITHOUT_PDF_WARNING_PROXY:t=!0}return t},toJsonForAPI:function(t){var e={ext_ids:this.getIdentifiers(),note:null,return_item:!0};return e.ext_ids.gsid&&e.ext_ids.gsid.indexOf("null")>-1&&(e.ext_ids.gsid=null),r.get(t,"includeMetadata",!1)&&(e.article=this.metadata),r.get(t,"includeNote",!1)&&(e.note=this.note,e.user_data={notes:this.note}),e},toJson:function(){var t={};for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t},getPdfUrl:function(){return this.pdfUrl?this.pdfUrl:null}})},,function(t,e,n){"use strict";var i=function(){function t(t,e){this.location=t,this.length=e}return t.prototype.notFound=function(){return void 0==this.location||null==this.location},t.prototype.maxRange=function(){return this.location+this.length},t.prototype.sliceArray=function(t){return t.slice(this.location,this.location+this.length)},t}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";function i(t){var e=t.toLowerCase(),n="."==e[e.length-1]?e.substring(0,e.length-1):e;return u[n]}function r(t){return t.trim().toLowerCase()}function o(t){return["firstName","middle","dropped","nondropped","lastName","suffix"].reduce(function(e,n){var i=t[n];return i?e?e+" "+i:i:e},"")}function a(t){for(var e,n,i=0,r=t;i<r.length;i++){var o=r[i];e?n=n?n+" "+o:o:e=o}return[e,n]}function s(t,e){void 0===e&&(e=!1);var n=t.length;if(0==n)return new c.default;for(var i=new c.default,r=0,o=0,a=t;o<a.length;o++){var s=a[o];if((s.length>2||s.toUpperCase()!=s)&&(s=s.toLowerCase()),A.default[s]){i=new c.default(r,1);break}if(e)break;r++}if(n<2)return i;if(i.notFound())return i;if(void 0==i.location)return i;var l=n-1;for(e&&(l=1),r=i.location;r<l;r++){var u=t[r].toLowerCase(),F=t[r+1].toLowerCase(),E=[u,F],d=E.join(" ");if(A.default[d])return new c.default(r,2)}return i}function l(t){var e=t.join(" "),n=A.default[e.toLowerCase()],i=n[0],o=n[1],a=r(e).length<2,s=a||e.toUpperCase()!=e,l=r(i+" "+o),u=r(e)==l;if(s&&u){for(var F=0,E=0,d=t.length,f=function(t,e,n){var i=t-e+1;return new c.default(e,i).sliceArray(n).join(" ")},C="",p=i.toLowerCase();E<d&&C.toLowerCase()!=p;)C=f(E,F,t),E++;F=E;for(var D="",B=o.toLowerCase();E<d&&D.toLowerCase()!=B;)D=f(E,F,t),E++;i=C,o=D}return[i,o]}var c=n(17),A=n(79),u={jr:"Jr",sr:"Sr",ii:"II",iii:"III",iv:"IV",v:"V"};e.tryGetSuffix=i,e.canonicalString=r,e.fullnameForAuthor=o,e.firstAndMiddleFromTokens=a,e.particlesRangeInTokens=s,e.splitParticleParts=l},function(t,e,n){(function(t,e){!function(t,n){"use strict";function i(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return c[l]=i,s(l),l++}function r(t){delete c[t]}function o(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(n,i)}}function a(t){if(A)setTimeout(a,0,t);else{var e=c[t];if(e){A=!0;try{o(e)}finally{r(t),A=!1}}}}if(!t.setImmediate){var s,l=1,c={},A=!1,u=t.document,F=Object.getPrototypeOf&&Object.getPrototypeOf(t);F=F&&F.setTimeout?F:t,"[object process]"==={}.toString.call(t.process)?function(){s=function(t){e.nextTick(function(){a(t)})}}():function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&a(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),s=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){a(t.data)},s=function(e){t.port2.postMessage(e)}}():u&&"onreadystatechange"in u.createElement("script")?function(){var t=u.documentElement;s=function(e){var n=u.createElement("script");n.onreadystatechange=function(){a(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():function(){s=function(t){setTimeout(a,0,t)}}(),F.setImmediate=i,F.clearImmediate=r}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,n(16),n(14))},function(t,e,n){function i(t,e){this._id=t,this._clearFn=e}var r=Function.prototype.apply;e.setTimeout=function(){return new i(r.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new i(r.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(19),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},function(t,e,n){var i=n(2),r=n(0);i.module("App").run(["Mixpanel",function(t){var e=chrome.runtime.getManifest().version;t.setProperty(r.MIXPANEL_PROPERTY_BROWSER_EXTENSION_VERSION,e);var n={};n[r.MIXPANEL_SUPER_PROPERTY_CLIENT]="Browser Ext",n[r.MIXPANEL_SUPER_PROPERTY_BROWSER_EXTENSION_VERSION]=e,t.setSuperProperty(n),t.union(r.MIXPANEL_PROPERTY_CLIENTS_USED,"browser_ext")}])},function(t,e,n){function i(t,e){var n=!1;o.init(a.MIXPANEL_TOKEN,{api_host:a.MIXPANEL_API_URL});var i={get:function(){return n?t.resolve(o):(n=!0,e.evaluateLoggedInUserDetail().then(function(e){return e.id?(o.identify(e.id),o):t.reject("Unable to get user id")}).catch(function(e){return console.error(e),t.reject(e)}))},getObjectFromParams:function(t,e){var n={};return"string"==typeof t?n[t]=e:n=t,n},setProperty:function(t,e){return i.get().then(function(n){return n.people.set(i.getObjectFromParams(t,e)),!0})},setSuperProperty:function(t,e){return i.get().then(function(n){return n.register(i.getObjectFromParams(t,e)),!0})},incrementProperty:function(t,e){return i.get().then(function(n){return n.people.increment(i.getObjectFromParams(t,e)),!0})},trackEvent:function(t,e){return i.get().then(function(n){return n.track(t,e),!0})},union:function(t,e){return i.get().then(function(n){return n.people.union(t,e),!0})}};return i}i.$inject=["$q","User"];var r=n(2),o=n(47),a=n(0);r.module("App").factory("Mixpanel",i)},function(t,e,n){function i(t){return{sendToBackground:function(e,n){var i=t.defer();return chrome.runtime.sendMessage({method:e,data:n},function(t){i.resolve(t)}),i.promise},listenForMessages:function(t){function e(e,n,i){return t(e,i),!0}chrome.runtime.onMessage.addListener(e),window.onbeforeunload=function(){chrome.runtime.onMessage.hasListener(e)&&chrome.runtime.onMessage.removeListener(e)}},sendToActiveTab:function(e){var n=t.defer();return chrome.tabs.query({active:!0,currentWindow:!0},function(t){if(0==t.length)return void n.reject("No active tabs were found");chrome.tabs.sendMessage(t[0].id,e,n.resolve)}),n.promise}}}i.$inject=["$q"],n(2).module("App").factory("Message",i)},function(t,e,n){function i(t,e,n){var i={INITIAL:0,PROCESSING:1,DONE:2},r=i.INITIAL,c=[],A={getLoggedInUserDetails:function(){return e.get(o.STORAGE_KEY_LOGGED_IN_USER_DETAILS,null).then(function(t){return a.get(t,"id")?t:n.reject("User data not available in the storage")})},evaluateLoggedInUserDetail:function(){var t=this,e=n.defer();if(r===i.INITIAL)r=i.PROCESSING,c.push(e),t.queryUserDetails().then(function(t){A.setLoggedInUserDetails(t),r=i.DONE,c.forEach(function(e){e.resolve(t)})}).catch(function(e){t.clearLoggedInUserDetails(),r=i.INITIAL,c.forEach(function(t){t.reject(e)})}).finally(function(){c=[]});else{if(r!==i.PROCESSING)return A.getLoggedInUserDetails();c.push(e)}return e.promise},clearProcessingStatus:function(){r=i.INITIAL},getInstitutionProxy:function(){return this.evaluateLoggedInUserDetail().then(function(t){switch(a.get(t,"proxy_url_selection",null)){case o.VALUE_PROXY_URL_SELECTION_NONE:case o.VALUE_PROXY_URL_SELECTION_NULL:return n.reject('Proxy url selection is "none" or "null"');case o.VALUE_PROXY_URL_SELECTION_MANUAL:var e=a.get(t,"proxy_url",null);return e||n.reject("Proxy url is not available");case o.VALUE_PROXY_URL_SELECTION_INSTITUTION:var i=a.get(t,"institution_proxy_url",null);return i||n.reject("Institution proxy url is not available");default:return n.reject("Unknown proxy selection option")}})},getSfxUrlByDoiAndPmid:function(t,e){return this.evaluateLoggedInUserDetail().then(function(i){var r=a.get(i,"sfx_url",null);if(!r)return n.reject("Sfx url is not available");var o=l.parse(r,!0);return t&&(o.query.__DOI__="doi:"+t),e&&(o.query.__PMID__="pmid:"+e),l.format(o).replace("__DOI__","id").replace("__PMID__","id")})},getSubscriptionStatus:function(){return this.querySubscriptionStatus().then(function(t){return"free"===t.account?"expired"===t.status?"trial"===t.previous_type?o.SUBSCRIPTION_TRIAL_EXPIRED:o.SUBSCRIPTION_PRO_EXPIRED:o.SUBSCRIPTION_FREE:o.SUBSCRIPTION_PRO}).catch(function(){return o.SUBSCRIPTION_FREE})},setLoggedInUserDetails:function(t){e.set(o.STORAGE_KEY_LOGGED_IN_USER_DETAILS,t)},clearLoggedInUserDetails:function(){e.set(o.STORAGE_KEY_LOGGED_IN_USER_DETAILS,null),e.set(o.STORAGE_KEY_DISPLAYED_GO_PRO_TOOLTIP,!1)},queryUserDetails:function(){return s.get(o.URL_USER_DETAILS).then(function(t){var e=a.get(t,"data",null);return e?{email:e.email,name:e.full_name,id:e.id,institution:e.institution,institution_proxy_url:e.institution_proxy_url,proxy_url:e.proxy_url,proxy_url_selection:e.proxy_url_selection,sfx_url:e.sfx_url}:n.reject("Unable to get user details")})},querySubscriptionStatus:function(){return s.get(o.URL_SUBSCRIPTION_STATUS).then(function(t){var e=a.get(t,"data",null);return e||n.reject("Unable to load subscription details")})},logout:function(){return s.get(o.URL_LOGOUT,!0)}};return A}i.$inject=["$http","Storage","$q"];var r=n(2),o=n(0),a=n(1),s=n(7),l=n(9);r.module("App").factory("User",i)},function(t,e){function n(t){for(var e=atob(t.split(",")[1]),n=new ArrayBuffer(e.length),i=new Uint8Array(n),r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return n}e.toArrayBuffer=n,e.toBlob=function(t){return new Blob([n(t)])}},function(t,e,n){var i=chrome.storage.local,r=n(8);t.exports={get:function(t,e){void 0===e&&(e=null);var n=r.defer();return i.get(t,function(i){"string"==typeof t&&null==i[t]?n.resolve(e):"object"==typeof t&&null==i?n.resolve(e):"string"==typeof t?n.resolve(i[t]):n.resolve(i)}),n.promise},set:function(t,e){var n={},o=r.defer();if("string"==typeof t)n[t]=e;else{if("object"!=typeof t)return!1;n=t}return i.set(n,o.resolve),o.promise}}},function(t,e,n){"use strict";function i(t){for(var e="",n=0;n<r.default.length;n++){var i=r.default[n],o=t[i];o&&(e=e+"["+(n+1)+"] "+o+" ")}return e}var r=n(75);Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";function i(t){return t.split(/{(.+)}|\s/).filter(function(t){return t})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e){t.exports='<div class="tether-content">\n  <div class="readcube-tooltip {{ viewClass }}">\n    <div class="readcube-tooltip-icons">\n      <span ng-if="viewRetry == \'yes\'" title="Retry" class="readcube-icon-close"\n            ng-click="onRetryClick($event)">&#8634;</span>\n      <span ng-if="viewClose == \'yes\'" title="Close tooltip" class="readcube-icon-close"\n            ng-click="onCloseTooltipClick($event)">Ã—</span>\n    </div>\n\n    <div ng-include="viewUrl" ng-if="viewUrl" ng-controller="PdfWarning"></div>\n    <div class="readcube-tooltip-title" ng-if="viewText">{{ viewText }}</div>\n  </div>\n</div>'},function(t,e){t.exports='<div list-dropdown id="readcube-injected-button-dropdown" on-add-to-library-click="list.onAddToLibraryClick(index)" is-below-button="true" should-display-add-button="true"></div>\n<div login-iframe when-successfully-logged-in="list.onSuccessfullyLoggedIn(userData)" show="list.loginIframe.show"></div>\n'},function(t,e,n){var i,r;/*! tether 1.4.0 */
!function(o,a){i=a,void 0!==(r="function"==typeof i?i.call(e,n,e,t):i)&&(t.exports=r)}(0,function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t){var e=t.getBoundingClientRect(),n={};for(var i in e)n[i]=e[i];if(t.ownerDocument!==document){var o=t.ownerDocument.defaultView.frameElement;if(o){var a=r(o);n.top+=a.top,n.bottom+=a.top,n.left+=a.left,n.right+=a.left}}return n}function o(t){var e=getComputedStyle(t)||{},n=e.position,i=[];if("fixed"===n)return[t];for(var r=t;(r=r.parentNode)&&r&&1===r.nodeType;){var o=void 0;try{o=getComputedStyle(r)}catch(t){}if(void 0===o||null===o)return i.push(r),i;var a=o,s=a.overflow,l=a.overflowX;/(auto|scroll)/.test(s+a.overflowY+l)&&("absolute"!==n||["relative","absolute","fixed"].indexOf(o.position)>=0)&&i.push(r)}return i.push(t.ownerDocument.body),t.ownerDocument!==document&&i.push(t.ownerDocument.defaultView),i}function a(){b&&document.body.removeChild(b),b=null}function s(t){var e=void 0;t===document?(e=document,t=document.documentElement):e=t.ownerDocument;var n=e.documentElement,i=r(t),o=w();return i.top-=o.top,i.left-=o.left,void 0===i.width&&(i.width=document.body.scrollWidth-i.left-i.right),void 0===i.height&&(i.height=document.body.scrollHeight-i.top-i.bottom),i.top=i.top-n.clientTop,i.left=i.left-n.clientLeft,i.right=e.body.clientWidth-i.width-i.left,i.bottom=e.body.clientHeight-i.height-i.top,i}function l(t){return t.offsetParent||document.documentElement}function c(){if(T)return T;var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");A(e.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),e.appendChild(t),document.body.appendChild(e);var n=t.offsetWidth;e.style.overflow="scroll";var i=t.offsetWidth;n===i&&(i=e.clientWidth),document.body.removeChild(e);var r=n-i;return T={width:r,height:r}}function A(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=[];return Array.prototype.push.apply(e,arguments),e.slice(1).forEach(function(e){if(e)for(var n in e)({}).hasOwnProperty.call(e,n)&&(t[n]=e[n])}),t}function u(t,e){if(void 0!==t.classList)e.split(" ").forEach(function(e){e.trim()&&t.classList.remove(e)});else{var n=new RegExp("(^| )"+e.split(" ").join("|")+"( |$)","gi"),i=d(t).replace(n," ");f(t,i)}}function F(t,e){if(void 0!==t.classList)e.split(" ").forEach(function(e){e.trim()&&t.classList.add(e)});else{u(t,e);var n=d(t)+" "+e;f(t,n)}}function E(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=d(t);return new RegExp("(^| )"+e+"( |$)","gi").test(n)}function d(t){return t.className instanceof t.ownerDocument.defaultView.SVGAnimatedString?t.className.baseVal:t.className}function f(t,e){t.setAttribute("class",e)}function C(t,e,n){n.forEach(function(n){-1===e.indexOf(n)&&E(t,n)&&u(t,n)}),e.forEach(function(e){E(t,e)||F(t,e)})}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function D(t,e){var n=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return t+n>=e&&e>=t-n}function B(){return"undefined"!=typeof performance&&void 0!==performance.now?performance.now():+new Date}function h(){for(var t={top:0,left:0},e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.forEach(function(e){var n=e.top,i=e.left;"string"==typeof n&&(n=parseFloat(n,10)),"string"==typeof i&&(i=parseFloat(i,10)),t.top+=n,t.left+=i}),t}function g(t,e){return"string"==typeof t.left&&-1!==t.left.indexOf("%")&&(t.left=parseFloat(t.left,10)/100*e.width),"string"==typeof t.top&&-1!==t.top.indexOf("%")&&(t.top=parseFloat(t.top,10)/100*e.height),t}function v(t,e){return"scrollParent"===e?e=t.scrollParents[0]:"window"===e&&(e=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),e===document&&(e=e.documentElement),void 0!==e.nodeType&&function(){var t=e,n=s(e),i=n,r=getComputedStyle(e);if(e=[i.left,i.top,n.width+i.left,n.height+i.top],t.ownerDocument!==document){var o=t.ownerDocument.defaultView;e[0]+=o.pageXOffset,e[1]+=o.pageYOffset,e[2]+=o.pageXOffset,e[3]+=o.pageYOffset}z.forEach(function(t,n){t=t[0].toUpperCase()+t.substr(1),"Top"===t||"Left"===t?e[n]+=parseFloat(r["border"+t+"Width"]):e[n]-=parseFloat(r["border"+t+"Width"])})}(),e}var m=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_=void 0;void 0===_&&(_={modules:[]});var b=null,y=function(){var t=0;return function(){return++t}}(),I={},w=function(){var t=b;t&&document.body.contains(t)||(t=document.createElement("div"),t.setAttribute("data-tether-id",y()),A(t.style,{top:0,left:0,position:"absolute"}),document.body.appendChild(t),b=t);var e=t.getAttribute("data-tether-id");return void 0===I[e]&&(I[e]=r(t),L(function(){delete I[e]})),I[e]},T=null,S=[],L=function(t){S.push(t)},x=function(){for(var t=void 0;t=S.pop();)t()},P=function(){function t(){i(this,t)}return m(t,[{key:"on",value:function(t,e,n){var i=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];void 0===this.bindings&&(this.bindings={}),void 0===this.bindings[t]&&(this.bindings[t]=[]),this.bindings[t].push({handler:e,ctx:n,once:i})}},{key:"once",value:function(t,e,n){this.on(t,e,n,!0)}},{key:"off",value:function(t,e){if(void 0!==this.bindings&&void 0!==this.bindings[t])if(void 0===e)delete this.bindings[t];else for(var n=0;n<this.bindings[t].length;)this.bindings[t][n].handler===e?this.bindings[t].splice(n,1):++n}},{key:"trigger",value:function(t){if(void 0!==this.bindings&&this.bindings[t]){for(var e=0,n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];for(;e<this.bindings[t].length;){var o=this.bindings[t][e],a=o.handler,s=o.ctx,l=o.once,c=s;void 0===c&&(c=this),a.apply(c,i),l?this.bindings[t].splice(e,1):++e}}}}]),t}();_.Utils={getActualBoundingClientRect:r,getScrollParents:o,getBounds:s,getOffsetParent:l,extend:A,addClass:F,removeClass:u,hasClass:E,updateClasses:C,defer:L,flush:x,uniqueId:y,Evented:P,getScrollBarSize:c,removeUtilElements:a};var O=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),R=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,n=a,i=!0,s=c=void 0}};if(void 0===_)throw new Error("You must include the utils.js file before tether.js");var U=_.Utils,o=U.getScrollParents,s=U.getBounds,l=U.getOffsetParent,A=U.extend,F=U.addClass,u=U.removeClass,C=U.updateClasses,L=U.defer,x=U.flush,c=U.getScrollBarSize,a=U.removeUtilElements,N=function(){if("undefined"==typeof document)return"";for(var t=document.createElement("div"),e=["transform","WebkitTransform","OTransform","MozTransform","msTransform"],n=0;n<e.length;++n){var i=e[n];if(void 0!==t.style[i])return i}}(),k=[],M=function(){k.forEach(function(t){t.position(!1)}),x()};!function(){var t=null,e=null,n=null,i=function i(){if(void 0!==e&&e>16)return e=Math.min(e-16,250),void(n=setTimeout(i,250));void 0!==t&&B()-t<10||(null!=n&&(clearTimeout(n),n=null),t=B(),M(),e=B()-t)};"undefined"!=typeof window&&void 0!==window.addEventListener&&["resize","scroll","touchmove"].forEach(function(t){window.addEventListener(t,i)})}();var j={center:"center",left:"right",right:"left"},G={middle:"middle",top:"bottom",bottom:"top"},$={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},H=function(t,e){var n=t.left,i=t.top;return"auto"===n&&(n=j[e.left]),"auto"===i&&(i=G[e.top]),{left:n,top:i}},V=function(t){var e=t.left,n=t.top;return void 0!==$[t.left]&&(e=$[t.left]),void 0!==$[t.top]&&(n=$[t.top]),{left:e,top:n}},W=function(t){var e=t.split(" "),n=O(e,2);return{top:n[0],left:n[1]}},Y=W,X=function(t){function e(t){var n=this;i(this,e),R(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.position=this.position.bind(this),k.push(this),this.history=[],this.setOptions(t,!1),_.modules.forEach(function(t){void 0!==t.initialize&&t.initialize.call(n)}),this.position()}return p(e,t),m(e,[{key:"getClass",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e=this.options.classes;return void 0!==e&&e[t]?this.options.classes[t]:this.options.classPrefix?this.options.classPrefix+"-"+t:t}},{key:"setOptions",value:function(t){var e=this,n=arguments.length<=1||void 0===arguments[1]||arguments[1],i={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"};this.options=A(i,t);var r=this.options,a=r.element,s=r.target,l=r.targetModifier;if(this.element=a,this.target=s,this.targetModifier=l,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(t){if(void 0===e[t])throw new Error("Tether Error: Both element and target must be defined");void 0!==e[t].jquery?e[t]=e[t][0]:"string"==typeof e[t]&&(e[t]=document.querySelector(e[t]))}),F(this.element,this.getClass("element")),!1!==this.options.addTargetClasses&&F(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=Y(this.options.targetAttachment),this.attachment=Y(this.options.attachment),this.offset=W(this.options.offset),this.targetOffset=W(this.options.targetOffset),void 0!==this.scrollParents&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParents=[this.target]:this.scrollParents=o(this.target),!1!==this.options.enabled&&this.enable(n)}},{key:"getTargetBounds",value:function(){if(void 0===this.targetModifier)return s(this.target);if("visible"===this.targetModifier){if(this.target===document.body)return{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth};var t=s(this.target),e={height:t.height,width:t.width,top:t.top,left:t.left};return e.height=Math.min(e.height,t.height-(pageYOffset-t.top)),e.height=Math.min(e.height,t.height-(t.top+t.height-(pageYOffset+innerHeight))),e.height=Math.min(innerHeight,e.height),e.height-=2,e.width=Math.min(e.width,t.width-(pageXOffset-t.left)),e.width=Math.min(e.width,t.width-(t.left+t.width-(pageXOffset+innerWidth))),e.width=Math.min(innerWidth,e.width),e.width-=2,e.top<pageYOffset&&(e.top=pageYOffset),e.left<pageXOffset&&(e.left=pageXOffset),e}if("scroll-handle"===this.targetModifier){var t=void 0,n=this.target;n===document.body?(n=document.documentElement,t={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):t=s(n);var i=getComputedStyle(n),r=n.scrollWidth>n.clientWidth||[i.overflow,i.overflowX].indexOf("scroll")>=0||this.target!==document.body,o=0;r&&(o=15);var a=t.height-parseFloat(i.borderTopWidth)-parseFloat(i.borderBottomWidth)-o,e={width:15,height:.975*a*(a/n.scrollHeight),left:t.left+t.width-parseFloat(i.borderLeftWidth)-15},l=0;a<408&&this.target===document.body&&(l=-11e-5*Math.pow(a,2)-.00727*a+22.58),this.target!==document.body&&(e.height=Math.max(e.height,24));var c=this.target.scrollTop/(n.scrollHeight-a);return e.top=c*(a-e.height-l)+t.top+parseFloat(i.borderTopWidth),this.target===document.body&&(e.height=Math.max(e.height,24)),e}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(t,e){return void 0===this._cache&&(this._cache={}),void 0===this._cache[t]&&(this._cache[t]=e.call(this)),this._cache[t]}},{key:"enable",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]||arguments[0];!1!==this.options.addTargetClasses&&F(this.target,this.getClass("enabled")),F(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParents.forEach(function(e){e!==t.target.ownerDocument&&e.addEventListener("scroll",t.position)}),e&&this.position()}},{key:"disable",value:function(){var t=this;u(this.target,this.getClass("enabled")),u(this.element,this.getClass("enabled")),this.enabled=!1,void 0!==this.scrollParents&&this.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.position)})}},{key:"destroy",value:function(){var t=this;this.disable(),k.forEach(function(e,n){e===t&&k.splice(n,1)}),0===k.length&&a()}},{key:"updateAttachClasses",value:function(t,e){var n=this;t=t||this.attachment,e=e||this.targetAttachment;var i=["left","top","bottom","right","middle","center"];void 0!==this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),void 0===this._addAttachClasses&&(this._addAttachClasses=[]);var r=this._addAttachClasses;t.top&&r.push(this.getClass("element-attached")+"-"+t.top),t.left&&r.push(this.getClass("element-attached")+"-"+t.left),e.top&&r.push(this.getClass("target-attached")+"-"+e.top),e.left&&r.push(this.getClass("target-attached")+"-"+e.left);var o=[];i.forEach(function(t){o.push(n.getClass("element-attached")+"-"+t),o.push(n.getClass("target-attached")+"-"+t)}),L(function(){void 0!==n._addAttachClasses&&(C(n.element,n._addAttachClasses,o),!1!==n.options.addTargetClasses&&C(n.target,n._addAttachClasses,o),delete n._addAttachClasses)})}},{key:"position",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]||arguments[0];if(this.enabled){this.clearCache();var n=H(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,n);var i=this.cache("element-bounds",function(){return s(t.element)}),r=i.width,o=i.height;if(0===r&&0===o&&void 0!==this.lastSize){var a=this.lastSize;r=a.width,o=a.height}else this.lastSize={width:r,height:o};var A=this.cache("target-bounds",function(){return t.getTargetBounds()}),u=A,F=g(V(this.attachment),{width:r,height:o}),E=g(V(n),u),d=g(this.offset,{width:r,height:o}),f=g(this.targetOffset,u);F=h(F,d),E=h(E,f);for(var C=A.left+E.left-F.left,p=A.top+E.top-F.top,D=0;D<_.modules.length;++D){var B=_.modules[D],v=B.position.call(this,{left:C,top:p,targetAttachment:n,targetPos:A,elementPos:i,offset:F,targetOffset:E,manualOffset:d,manualTargetOffset:f,scrollbarSize:I,attachment:this.attachment});if(!1===v)return!1;void 0!==v&&"object"==typeof v&&(p=v.top,C=v.left)}var m={page:{top:p,left:C},viewport:{top:p-pageYOffset,bottom:pageYOffset-p-o+innerHeight,left:C-pageXOffset,right:pageXOffset-C-r+innerWidth}},b=this.target.ownerDocument,y=b.defaultView,I=void 0;return y.innerHeight>b.documentElement.clientHeight&&(I=this.cache("scrollbar-size",c),m.viewport.bottom-=I.height),y.innerWidth>b.documentElement.clientWidth&&(I=this.cache("scrollbar-size",c),m.viewport.right-=I.width),-1!==["","static"].indexOf(b.body.style.position)&&-1!==["","static"].indexOf(b.body.parentElement.style.position)||(m.page.bottom=b.body.scrollHeight-p-o,m.page.right=b.body.scrollWidth-C-r),void 0!==this.options.optimizations&&!1!==this.options.optimizations.moveElement&&void 0===this.targetModifier&&function(){var e=t.cache("target-offsetparent",function(){return l(t.target)}),n=t.cache("target-offsetparent-bounds",function(){return s(e)}),i=getComputedStyle(e),r=n,o={};if(["Top","Left","Bottom","Right"].forEach(function(t){o[t.toLowerCase()]=parseFloat(i["border"+t+"Width"])}),n.right=b.body.scrollWidth-n.left-r.width+o.right,n.bottom=b.body.scrollHeight-n.top-r.height+o.bottom,m.page.top>=n.top+o.top&&m.page.bottom>=n.bottom&&m.page.left>=n.left+o.left&&m.page.right>=n.right){var a=e.scrollTop,c=e.scrollLeft;m.offset={top:m.page.top-n.top+a-o.top,left:m.page.left-n.left+c-o.left}}}(),this.move(m),this.history.unshift(m),this.history.length>3&&this.history.pop(),e&&x(),!0}}},{key:"move",value:function(t){var e=this;if(void 0!==this.element.parentNode){var n={};for(var i in t){n[i]={};for(var r in t[i]){for(var o=!1,a=0;a<this.history.length;++a){var s=this.history[a];if(void 0!==s[i]&&!D(s[i][r],t[i][r])){o=!0;break}}o||(n[i][r]=!0)}}var c={top:"",left:"",right:"",bottom:""},u=function(t,n){if(!1!==(void 0!==e.options.optimizations?e.options.optimizations.gpu:null)){var i=void 0,r=void 0;t.top?(c.top=0,i=n.top):(c.bottom=0,i=-n.bottom),t.left?(c.left=0,r=n.left):(c.right=0,r=-n.right),window.matchMedia&&(window.matchMedia("only screen and (min-resolution: 1.3dppx)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3)").matches||(r=Math.round(r),i=Math.round(i))),c[N]="translateX("+r+"px) translateY("+i+"px)","msTransform"!==N&&(c[N]+=" translateZ(0)")}else t.top?c.top=n.top+"px":c.bottom=n.bottom+"px",t.left?c.left=n.left+"px":c.right=n.right+"px"},F=!1;if((n.page.top||n.page.bottom)&&(n.page.left||n.page.right)?(c.position="absolute",u(n.page,t.page)):(n.viewport.top||n.viewport.bottom)&&(n.viewport.left||n.viewport.right)?(c.position="fixed",u(n.viewport,t.viewport)):void 0!==n.offset&&n.offset.top&&n.offset.left?function(){c.position="absolute";var i=e.cache("target-offsetparent",function(){return l(e.target)});l(e.element)!==i&&L(function(){e.element.parentNode.removeChild(e.element),i.appendChild(e.element)}),u(n.offset,t.offset),F=!0}():(c.position="absolute",u({top:!0,left:!0},t.page)),!F)if(this.options.bodyElement)this.options.bodyElement.appendChild(this.element);else{for(var E=!0,d=this.element.parentNode;d&&1===d.nodeType&&"BODY"!==d.tagName;){if("static"!==getComputedStyle(d).position){E=!1;break}d=d.parentNode}E||(this.element.parentNode.removeChild(this.element),this.element.ownerDocument.body.appendChild(this.element))}var f={},C=!1;for(var r in c){var p=c[r];this.element.style[r]!==p&&(C=!0,f[r]=p)}C&&L(function(){A(e.element.style,f),e.trigger("repositioned")})}}}]),e}(P);X.modules=[],_.position=M;var q=A(X,_),O=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),U=_.Utils,s=U.getBounds,A=U.extend,C=U.updateClasses,L=U.defer,z=["left","top","right","bottom"];_.modules.push({position:function(t){var e=this,n=t.top,i=t.left,r=t.targetAttachment;if(!this.options.constraints)return!0;var o=this.cache("element-bounds",function(){return s(e.element)}),a=o.height,l=o.width;if(0===l&&0===a&&void 0!==this.lastSize){var c=this.lastSize;l=c.width,a=c.height}var u=this.cache("target-bounds",function(){return e.getTargetBounds()}),F=u.height,E=u.width,d=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(t){var e=t.outOfBoundsClass,n=t.pinnedClass;e&&d.push(e),n&&d.push(n)}),d.forEach(function(t){["left","top","right","bottom"].forEach(function(e){d.push(t+"-"+e)})});var f=[],p=A({},r),D=A({},this.attachment);return this.options.constraints.forEach(function(t){var o=t.to,s=t.attachment,c=t.pin;void 0===s&&(s="");var A=void 0,u=void 0;if(s.indexOf(" ")>=0){var d=s.split(" "),C=O(d,2);u=C[0],A=C[1]}else A=u=s;var B=v(e,o);"target"!==u&&"both"!==u||(n<B[1]&&"top"===p.top&&(n+=F,p.top="bottom"),n+a>B[3]&&"bottom"===p.top&&(n-=F,p.top="top")),"together"===u&&("top"===p.top&&("bottom"===D.top&&n<B[1]?(n+=F,p.top="bottom",n+=a,D.top="top"):"top"===D.top&&n+a>B[3]&&n-(a-F)>=B[1]&&(n-=a-F,p.top="bottom",D.top="bottom")),"bottom"===p.top&&("top"===D.top&&n+a>B[3]?(n-=F,p.top="top",n-=a,D.top="bottom"):"bottom"===D.top&&n<B[1]&&n+(2*a-F)<=B[3]&&(n+=a-F,p.top="top",D.top="top")),"middle"===p.top&&(n+a>B[3]&&"top"===D.top?(n-=a,D.top="bottom"):n<B[1]&&"bottom"===D.top&&(n+=a,D.top="top"))),"target"!==A&&"both"!==A||(i<B[0]&&"left"===p.left&&(i+=E,p.left="right"),i+l>B[2]&&"right"===p.left&&(i-=E,p.left="left")),"together"===A&&(i<B[0]&&"left"===p.left?"right"===D.left?(i+=E,p.left="right",i+=l,D.left="left"):"left"===D.left&&(i+=E,p.left="right",i-=l,D.left="right"):i+l>B[2]&&"right"===p.left?"left"===D.left?(i-=E,p.left="left",i-=l,D.left="right"):"right"===D.left&&(i-=E,p.left="left",i+=l,D.left="left"):"center"===p.left&&(i+l>B[2]&&"left"===D.left?(i-=l,D.left="right"):i<B[0]&&"right"===D.left&&(i+=l,D.left="left"))),"element"!==u&&"both"!==u||(n<B[1]&&"bottom"===D.top&&(n+=a,D.top="top"),n+a>B[3]&&"top"===D.top&&(n-=a,D.top="bottom")),"element"!==A&&"both"!==A||(i<B[0]&&("right"===D.left?(i+=l,D.left="left"):"center"===D.left&&(i+=l/2,D.left="left")),i+l>B[2]&&("left"===D.left?(i-=l,D.left="right"):"center"===D.left&&(i-=l/2,D.left="right"))),"string"==typeof c?c=c.split(",").map(function(t){return t.trim()}):!0===c&&(c=["top","left","right","bottom"]),c=c||[];var h=[],g=[];n<B[1]&&(c.indexOf("top")>=0?(n=B[1],h.push("top")):g.push("top")),n+a>B[3]&&(c.indexOf("bottom")>=0?(n=B[3]-a,h.push("bottom")):g.push("bottom")),i<B[0]&&(c.indexOf("left")>=0?(i=B[0],h.push("left")):g.push("left")),i+l>B[2]&&(c.indexOf("right")>=0?(i=B[2]-l,h.push("right")):g.push("right")),h.length&&function(){var t=void 0;t=void 0!==e.options.pinnedClass?e.options.pinnedClass:e.getClass("pinned"),f.push(t),h.forEach(function(e){f.push(t+"-"+e)})}(),g.length&&function(){var t=void 0;t=void 0!==e.options.outOfBoundsClass?e.options.outOfBoundsClass:e.getClass("out-of-bounds"),f.push(t),g.forEach(function(e){f.push(t+"-"+e)})}(),(h.indexOf("left")>=0||h.indexOf("right")>=0)&&(D.left=p.left=!1),(h.indexOf("top")>=0||h.indexOf("bottom")>=0)&&(D.top=p.top=!1),p.top===r.top&&p.left===r.left&&D.top===e.attachment.top&&D.left===e.attachment.left||(e.updateAttachClasses(D,p),e.trigger("update",{attachment:D,targetAttachment:p}))}),L(function(){!1!==e.options.addTargetClasses&&C(e.target,f,d),C(e.element,f,d)}),{top:n,left:i}}});var U=_.Utils,s=U.getBounds,C=U.updateClasses,L=U.defer;_.modules.push({position:function(t){var e=this,n=t.top,i=t.left,r=this.cache("element-bounds",function(){return s(e.element)}),o=r.height,a=r.width,l=this.getTargetBounds(),c=n+o,A=i+a,u=[];n<=l.bottom&&c>=l.top&&["left","right"].forEach(function(t){var e=l[t];e!==i&&e!==A||u.push(t)}),i<=l.right&&A>=l.left&&["top","bottom"].forEach(function(t){var e=l[t];e!==n&&e!==c||u.push(t)});var F=[],E=[],d=["left","top","right","bottom"];return F.push(this.getClass("abutted")),d.forEach(function(t){F.push(e.getClass("abutted")+"-"+t)}),u.length&&E.push(this.getClass("abutted")),u.forEach(function(t){E.push(e.getClass("abutted")+"-"+t)}),L(function(){!1!==e.options.addTargetClasses&&C(e.target,E,F),C(e.element,E,F)}),!0}});var O=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();return _.modules.push({position:function(t){var e=t.top,n=t.left;if(this.options.shift){var i=this.options.shift;"function"==typeof this.options.shift&&(i=this.options.shift.call(this,{top:e,left:n}));var r=void 0,o=void 0;if("string"==typeof i){i=i.split(" "),i[1]=i[1]||i[0];var a=i,s=O(a,2);r=s[0],o=s[1],r=parseFloat(r,10),o=parseFloat(o,10)}else r=i.top,o=i.left;return e+=r,n+=o,{top:e,left:n}}}}),q})},function(t,e,n){function i(t,e,n,i,r){function c(n){var r=s.parse(n,!0),a=o.parseInt(t.viewIndex);i.sendToBackground("tabs.CurrentTabId").then(function(n){return o.extend(r.query,{readcubeId:t.viewModel.id,tabId:n,articleIndex:a||0}),e.openTab(s.format(r)),!0}).catch(function(){return e.openTab(s.format(r)),!1})}function A(t){e.openTab(l(a.URL_DOI_RESOLVER,t))}function u(t,i){n.getInstitutionProxy().then(function(n){var r=s.parse(t,!0);o.extend(r.query,{readcubeId:i.id}),e.openTab(n.replace(a.EZPROXY_URL_REPLACE_KEY,s.format(r)))})}function F(e){t.viewModel&&r.downloadPdf(t.viewModel,e)}function E(){e.openTab(a.URL_ACCOUNT)}function d(){e.openTab(a.URL_GET_TRIAL)}function f(){return a.URL_ACCOUNT}t.onOpenLinkClick=c,t.onLoginWithProxyClick=u,t.onDownloadPdfClick=F,t.onOpenDoiClick=A,t.onOpenAccountClick=E,t.onGetTrialClick=d,t.getAccountLink=f,t.proxyIsNotAvailable=!1,t.pdfUrlsAvailable=!1,t.searchingPdfUrls=!1,t.institutionName=null,t.sfxUrl=null,t.pdfUrls=[],n.getInstitutionProxy().catch(function(){t.proxyIsNotAvailable=!0});var C=t.viewModel;C&&(C.doi||C.pmid)&&n.getSfxUrlByDoiAndPmid(C.doi,C.pmid).then(function(e){t.sfxUrl=e}),n.evaluateLoggedInUserDetail().then(function(e){t.institutionName=o.get(e,"institution",null)});var p=t.$watch("viewVisibility.visible",function(e){if(e&&t.viewModel&&t.viewModel.isPdfDownloadFailed()){t.searchingPdfUrls=!0;var n=o.get(t.viewModel,"metadata.title");n&&(t.pdfUrlsAvailable=!0,i.sendToBackground("request.GetPdfUrlsFromGoogleScholar",n).then(function(e){Array.isArray(e)&&e.length>0?t.pdfUrls=e:t.pdfUrlsAvailable=!1,t.searchingPdfUrls=!1})),p()}})}i.$inject=["$scope","BrowserTab","User","Message","TooltipApi"];var r=n(2),o=n(1),a=n(0),s=n(9),l=n(5).sprintf;r.module("App").controller("PdfWarning",i)},function(t,e,n){function i(t){return{restrict:"E",transclude:"element",replace:!0,scope:{viewVisibility:"="},link:function(e,n,i,r,l){e.viewVisibility||(e.viewVisibility={visible:!1});var c=s.extend(t.getOptions(),s.pick(i,["parentSelector","attachment","targetAttachment","targetOffset"])),A=null,u=null,F=null;l(function(t,e){u=a(t[0]).addClass("readcube-tooltip-container").appendTo(a("body")),F=e,A=new o({element:u.get(0),target:a(n).parents(c.parentSelector).get(0),attachment:c.attachment,targetAttachment:c.targetAttachment,targetOffset:c.targetOffset,constraints:c.constraints})}),e.$watch("viewVisibility.visible",function(t){u&&u.toggleClass("readcube-tooltip-hidden",!t)}),e.$on("$destroy",function(){A&&A.destroy(),u&&u.remove(),F&&F.$destroy()});var E=!1;e.$watch(function(){E||(E=!0,e.$$postDigest(function(){E=!1,A.position()}))})}}}i.$inject=["tetherTooltipConfig"];var r=n(2),o=n(31),a=n(4),s=n(1);r.module("App").directive("tetherTooltip",i)},function(t,e,n){function i(){this.config={parentSelector:".readcube-button-holder:first",attachment:"bottom center",targetAttachment:"top center",targetOffset:"-6px 0",constraints:[{to:"scrollParent"}]},this.setOptions=function(t){o.extend(this.config,t)},this.getOptions=function(){return this.config},this.$get=function(){return this}}var r=n(2),o=n(1);r.module("App").provider("tetherTooltipConfig",i)},function(t,e,n){function i(){return{restrict:"E",templateUrl:"tooltip/index",replace:!0,scope:{side:"@",viewModel:"=",viewVisibility:"=",viewText:"@",viewUrl:"@",viewIndex:"@",viewClass:"@",viewClose:"@",viewRetry:"@",viewRetryMethod:"&"},link:function(t,e,n){function i(e){e.stopPropagation(),t.viewVisibility.visible=!1}function r(e){"function"==typeof t.viewRetryMethod&&t.viewRetryMethod()}t.onCloseTooltipClick=i,t.onRetryClick=r,t.viewVisibility||(t.viewVisibility={visible:!1})}}}n(2).module("App").directive("tooltip",i)},function(t,e,n){function i(t,e){return{openLibrary:function(){return e.sendToBackground("tabs.OpenLibrary",null)},openItemInLibrary:function(t,n){return e.sendToBackground("tabs.OpenItemInLibrary",{itemId:t,collectionId:n})},openDocumentInLibrary:function(e,n){return t.open(a(o.URL_LIBRARY_DOCUMENT,e,n))},openTab:function(e){return t.open(e)},openOptions:function(){chrome.tabs.create({url:"options.html"})}}}i.$inject=["$window","Message"];var r=n(2),o=n(0),a=n(5).sprintf;r.module("App").factory("BrowserTab",i)},function(t,e,n){function i(t){return{connectWithBackground:function(e,n){var i=t.defer(),r=chrome.runtime.connect({name:"readcube-extension-connection"}),a=!1;return r.postMessage({message:o.MESSAGE_START,data:n,method:e}),r.onMessage.addListener(function(t){t.message==o.MESSAGE_FINISH?(i.resolve(t.data),a=!0):t.message==o.MESSAGE_PROGRESS&&i.notify(t.data)}),r.onDisconnect.addListener(function(){a||i.resolve(null)}),i.promise}}}i.$inject=["$q"];var r=n(2),o=n(0);r.module("App").factory("Connection",i)},function(t,e,n){function i(t){return{getUploadPromise:function(e,n){var i=new XMLHttpRequest,r=t.defer();return i.upload.addEventListener("progress",function(t){t.lengthComputable?r.notify(parseInt(t.loaded/t.total*100)):r.notify(50)}),i.onreadystatechange=function(t){4==t.target.readyState&&(200==t.target.status?r.resolve(t.target):r.reject(t.target))},i.open("PUT",e,!0),i.setRequestHeader("Content-Type","application/pdf"),i.send(n),r.promise}}}i.$inject=["$q"],n(2).module("App").factory("FileRequest",i)},function(t,e,n){function i(t){var e=t.navigator.onLine;return t.addEventListener("offline",function(){e=!1}),t.addEventListener("online",function(){e=!0}),{isOnline:function(){return e},isOffline:function(){return!e}}}i.$inject=["$window"],n(2).module("App").factory("OnlineStatus",i)},function(t,e,n){function i(t,e){return{status:function(t){if(t.ext_ids.length>100){idsCopy=[].concat(t.ext_ids);var n=idsCopy.splice(0,100);return e.all({statuses:s.post(o.URL_ARTICLES_STATUS,{ext_ids:n}),others:s.post(o.URL_ARTICLES_STATUS,{ext_ids:idsCopy})}).then(function(t){var e=l.get(t,"statuses.data.items",[]),n=l.get(t,"others.data.items",[]);return t.statuses.data.items=e.concat(n),t.statuses})}return s.post(o.URL_ARTICLES_STATUS,t)},updateStatusForArticle:function(t){return this.status({ext_ids:[t.getIdentifiers()]}).then(function(e){var n=l.get(e,"data.items[0]",null);n&&(t.collections=n.collections,t.collection_id=n.collection_id,t.hasPdf=n.has_file,t.id=n.id)})},metadata:function(t){return s.post(o.URL_ARTICLES_METADATA,t)},getStatusWithMetadata:function(t){var n={ext_ids:t};return e.all({articlesStatus:this.status(n),articlesMetadata:this.metadata(n)}).then(function(n){var i=l.get(n,"articlesStatus.data.items",[]),r=l.get(n,"articlesMetadata.data",[]);return 0==i.length?e.reject("No items in the response"):0==r.length?i:(t.forEach(function(t,e){var n=l.find(r,function(e){if(t.doi&&e.doi){if(t.doi.toLowerCase()==e.doi.toLowerCase())return!0}return!(!t.pmid||e.pmid!=t.pmid)||!(!t.gsid||e.gsid!=t.gsid)});n&&l.extend(i[e],{pdfUrl:l.get(n,"pdf_urls[0]",null),pdfHash:l.get(n,"hash",null),url:l.get(n,"url",null)})}),i)})},add:function(t){return s.post(o.URL_ADD_ARTICLE,t)},addWithMetadata:function(t){return s.post(o.URL_ADD_ARTICLE_METADATA,t)},update:function(t,e,n){return s.patch(a(o.URL_COLLECTION_ARTICLE,e,t),n)},get:function(t){return s.get(a(o.URL_ARTICLE_GET,t))}}}i.$inject=["$http","$q"];var r=n(2),o=n(0),a=n(5).sprintf,s=n(7),l=n(1);r.module("App").factory("Article",i)},function(t,e,n){function i(t,e,n){function i(t){return!t.group_id&&!t.name}function r(){return l.get(o.URL_COLLECTIONS).then(function(t){var e=s.get(t,"data.collections",[]),n=[];return e.forEach(function(t){i(t)&&(t.name=o.DEFAULT_PERSONAL_LIBRARY_NAME),n.push(l.get(c(o.URL_COLLECTION_LISTS,t.collection_id)).then(function(e){var n=s.get(e,"data.lists",[]);return t.lists=u(n),!0}))}),a.all(n).then(function(){return A().then(function(t){return{groups:s.reduce(t,function(t,n,i){return t.push({group_id:i,collections:s.filter(e,{group_id:parseInt(i)||null})}),t},[]).sort(function(t){return null!==t}),groupNames:t}})})})}function A(){return l.get(o.URL_GROUPS).then(function(t){var e=s.get(t,"data.groups",[]);return s.reduce(e,function(t,e){return t[e.id]=e.name,t},{null:"Personal"})})}function u(t){function e(t,n,i,r){return s.sortBy(t,"name").forEach(function(t){t.level=i,r.push(t);var o=s.partition(n,{parent_id:t.id});e(o[0],o[1],i+1,r)}),r}var n=s.partition(t,function(t){return!t.parent_id});return e(n[0],n[1],0,[])}return{queryFlat:function(){return r()},queryStorage:function(){return e.get("lists",null).then(function(t){return s.isNull(t)?n.reject("The lists array is empty"):t})},addItems:function(t,e){return l.post(c(o.URL_LISTS_ADD_ITEMS,t),{item_ids:e})},clear:function(){e.set("lists",null)}}}i.$inject=["$http","Storage","$q"];var r=n(2),o=n(0),a=n(8),s=n(1),l=n(7),c=n(5).sprintf;r.module("App").factory("List",i)},function(t,e,n){function i(t,e,n,i){return A(t,{getArticlePdfResolvePromise:function(t){function i(){s--,r.getArticleIdFromFileHash(t).then(function(t){n.cancel(l),a.resolve(t),r.article.extend({id:t,inLibraryStatus:o.STATUS_IN_LIBRARY_WITH_PDF})}),0==s&&(n.cancel(l),a.reject("The PDF was not resolved during 1 minute"),r.article.inLibraryStatus=o.STATUS_PDF_RESOLVE_WARNING)}var r=this,a=e.defer(),s=10;r.article.inLibraryStatus=o.STATUS_PDF_RESOLVING,i();var l=n(i,6e3);return a.promise},getArticleIdFromFileHash:function(t){return c.get(a(o.URL_FILES,t)).then(function(t){var n=s.chain(t).get("data.items",[]).compact().get("[0]",null).value();return n||e.reject("Article id not found")})},upload:function(){var t=this;return t.article.extend({progressPercent:0,progressType:o.PROGRESS_DOWNLOAD,inLibraryStatus:o.STATUS_PDF_DOWNLOADING,usingPdfUrl:t.article.pdfUrl}),e.when(function(){return t.article.pdfUrl?t.getDownloadPromise({url:t.article.pdfUrl,isProxied:!1}):e.reject("Pdf url not available")}()).catch(function(n){return t.article.inLibraryStatus=o.STATUS_IN_LIBRARY_WITHOUT_PDF_WARNING,e.reject(n)}).then(function(n){return t.getArticleIdFromFileHash(n.sha256Hash).then(function(e){return t.article.id=e,t.article.inLibraryStatus=o.STATUS_IN_LIBRARY_WITH_PDF,e}).catch(function(i){if(i.status==l.UNAUTHORIZED)return t.article.inLibraryStatus=o.STATUS_NOT_LOGGED_IN,e.reject(i);var r="";t.article.pdfUrl&&t.article.pdfUrl.length&&(r=encodeURIComponent(t.article.pdfUrl.substring(0,500))),t.article.progressPercent=0,t.article.progressType=o.PROGRESS_UPLOAD;var A,u=t.fixPdfFilename(n.fileName);return A=t.article.collection_id&&t.article.id?a(o.URL_UPLOAD,t.article.collection_id,"false",n.sha256Hash,"","",n.fileSize,t.article.id,encodeURIComponent(u),r):a(o.URL_UPLOAD_DEFAULT,t.article.id?"false":"true",n.sha256Hash,"","",n.fileSize,t.article.id?t.article.id:"",encodeURIComponent(u),r),c.get(A).then(function(i){var r=s.get(i,"data.url");return r?t.getUploadPromise(r,n.blob):e.reject("Unable to receive the upload url")}).then(null,null,function(e){t.article.progressPercent=e}).catch(function(e){return t.evaluateUploadError(e,o.STATUS_IN_LIBRARY_WITHOUT_PDF_WARNING)}).then(function(){return t.article.id?(t.article.inLibraryStatus=o.STATUS_IN_LIBRARY_WITH_PDF,!0):t.getArticlePdfResolvePromise(n.sha256Hash)})})})}})}i.$inject=["Upload","$q","$interval","$http"];var r=n(2),o=n(0),a=n(5).sprintf,s=n(1),l=n(11),c=n(7),A=n(3);r.module("App").factory("RawUpload",i)},function(t,e,n){function i(t,e,n){return a({__constructor:function(t){this.article=t},getUploadPromise:function(e,n){var i=new XMLHttpRequest,r=t.defer();return i.upload.addEventListener("progress",function(t){t.lengthComputable?r.notify(parseInt(t.loaded/t.total*100)):r.notify(50)}),i.onreadystatechange=function(t){4==t.target.readyState&&(200==t.target.status?r.resolve(t.target):r.reject(t.target))},i.open("PUT",e,!0),i.setRequestHeader("Content-Type","application/pdf"),i.send(n),r.promise},getDownloadPromise:function(n){var i=this;return n.url?e.connectWithBackground("request.GetPdfBase64",n).then(function(e){return e&&e.base64&&e.sha256Hash?{blob:o.toBlob(e.base64),sha256Hash:e.sha256Hash,fileSize:e.fileSize,fileName:e.fileName}:t.reject("No PDF file was found")},null,function(t){i.article.progressPercent=t.percent}):t.reject("No PDF url provided")},upload:function(){throw new Error("Method not implemented")},evaluateUploadError:function(e,i){var r=this;return e.status===s.UNPROCESSABLE_ENTITY?e:e.status===s.FORBIDDEN?n.getSubscriptionStatus().then(function(e){switch(e){case l.SUBSCRIPTION_TRIAL_EXPIRED:return r.article.inLibraryStatus=l.STATUS_IN_LIBRARY_WITHOUT_PDF_EXPIRED_TRIAL,t.reject("Unable to add pdf because the trial period is expired");case l.SUBSCRIPTION_PRO_EXPIRED:return r.article.inLibraryStatus=l.STATUS_IN_LIBRARY_WITHOUT_PDF_EXPIRED_SUBSCRIPTION,t.reject("Unable to add pdf because the subscription is expired");default:return r.article.inLibraryStatus=l.STATUS_IN_LIBRARY_WITHOUT_PDF_NO_SUBSCRIPTION,t.reject("Unable to add pdf because the account is without subscription")}}):(i&&(r.article.inLibraryStatus=i),t.reject(e))},fixPdfFilename:function(t){if(t)return t;var e=c.get(this.article,"metadata.title",""),n=(new Date).toLocaleString();return e?e+".pdf":this.article.usingPdfUrl?A.getHostnameFromUrl(this.article.usingPdfUrl)+" "+n+".pdf":n+".pdf"}})}i.$inject=["$q","Connection","User"];var r=n(2),o=n(25),a=n(3),s=n(11),l=n(0),c=n(1),A=n(13);r.module("App").factory("Upload",i)},function(t,e,n){function i(){return{downloadPdf:function(t,e){this.article=t,this.pdfUrl=e,++this.messageCount},article:null,pdfUrl:null,messageCount:0}}n(2).module("App").factory("TooltipApi",i)},,,,function(t,e){t.exports='<div ng-switch="buttonData.inLibraryStatus" class="readcube-relative">\n  <a ng-switch-when="in_library"  class="readcube-button right-space" href ng-click="onInLibraryClick($event)">\n    <span class="readcube-icon-extended readcube-icon-check"></span> In Library\n    <span class="readcube-triangle-holder" ng-click="onTriangleClick($event)" ng-hide="isPopup">\n      <span class="readcube-icon readcube-icon-triangle readcube-icon-triangle-imported"></span>\n    </span>\n  </a>\n\n  <a ng-switch-when="in_library_with_pdf" class="readcube-button right-space-icon" href ng-click="onInLibraryClick($event)">\n    <span class="readcube-icon-extended readcube-icon-check"></span> In Library\n    <span class="readcube-triangle-holder" ng-click="onTriangleClick($event)" ng-hide="isPopup">\n      <span class="readcube-icon readcube-icon-triangle readcube-icon-triangle-imported"></span>\n    </span>\n    <span class="readcube-right-box" ng-click="onInLibraryDocumentClick($event)">\n      <span class="readcube-icon-extended readcube-icon-document"></span>\n    </span>\n  </a>\n\n  <a ng-switch-when="in_library_without_pdf" class="readcube-button right-space-icon" href ng-click="onInLibraryClick($event)">\n    <span class="readcube-icon-extended readcube-icon-check"></span> In Library\n    <span class="readcube-triangle-holder" ng-click="onTriangleClick($event)" ng-hide="isPopup">\n      <span class="readcube-icon readcube-icon-triangle readcube-icon-triangle-imported"></span>\n    </span>\n    <span class="readcube-right-box-gray" ng-click="onDownloadPdfClick($event)">\n      <span class="readcube-icon-extended readcube-icon-arrow-down"></span>\n    </span>\n  </a>\n\n  <a ng-switch-when="in_library_without_pdf_warning_proxy" class="readcube-button right-space-icon" href\n     ng-click="onInLibraryClick($event)">\n    <span class="readcube-icon-extended readcube-icon-check"></span> In Library\n    <span class="readcube-triangle-holder" ng-click="onTriangleClick($event)" ng-hide="isPopup">\n      <span class="readcube-icon readcube-icon-triangle readcube-icon-triangle-imported"></span>\n    </span>\n    <span class="readcube-right-box-orange" ng-click="onShowTooltipClick($event)">\n      <span class="readcube-exclamation">!</span>\n    </span>\n  </a>\n\n  <div ng-switch-when="in_library_without_pdf_warning_proxy">\n    <tether-tooltip view-visibility="tooltipVisibility">\n      <tooltip view-visibility="tooltipVisibility" view-url="tooltip/pdf_warning_proxy" view-class="readcube-tooltip-warning"\n        view-model="buttonData" view-index="{{buttonIndex}}" view-close="yes"></tooltip>\n    </tether-tooltip>\n  </div>\n\n  <a ng-switch-when="in_library_without_pdf_warning" class="readcube-button right-space-icon" href ng-click="onInLibraryClick($event)">\n    <span class="readcube-icon-extended readcube-icon-check"></span> In Library\n    <span class="readcube-triangle-holder" ng-click="onTriangleClick($event)" ng-hide="isPopup">\n      <span class="readcube-icon readcube-icon-triangle readcube-icon-triangle-imported"></span>\n    </span>\n    <span class="readcube-right-box-orange" ng-click="onShowTooltipClick($event)">\n      <span class="readcube-exclamation">!</span>\n    </span>\n  </a>\n  <div ng-switch-when="in_library_without_pdf_warning">\n    <tether-tooltip view-visibility="tooltipVisibility">\n      <tooltip view-url="tooltip/pdf_warning" view-class="readcube-tooltip-warning" view-visibility="tooltipVisibility"\n        view-model="buttonData" view-index="{{buttonIndex}}" view-close="yes"></tooltip>\n    </tether-tooltip>\n  </div>\n\n  <a ng-switch-when="not_found" class="readcube-button readcube-decolored" href ng-click="onAddToLibraryClick($event)"\n     ng-mouseenter="onMouseEnter()" ng-mouseleave="onMouseLeave()">\n    <span class="readcube-icon readcube-icon-add"></span>\n    ReadCube\n    <span class="readcube-triangle-holder" ng-click="onTriangleClick($event)">\n      <span class="readcube-icon readcube-icon-triangle"></span>\n    </span>\n  </a>\n\n  <a ng-switch-when="metadata_adding" class="readcube-button right-space-icon left-space" href="#"\n     ng-click="preventPropagation($event)">\n    Importing...\n    <span class="readcube-right-box" ng-click="onShowTooltipClick($event)">\n      <span class="readcube-icon-extended readcube-icon-circle"></span>\n    </span>\n  </a>\n  <div ng-switch-when="metadata_adding">\n    <tether-tooltip view-visibility="tooltipVisibility">\n      <tooltip view-visibility="tooltipVisibility" view-text="Adding metadata to your library..." view-close="yes"></tooltip>\n    </tether-tooltip>\n  </div>\n\n  <a ng-switch-when="pdf_downloading" class="readcube-button right-space-icon" href="#">\n    <span class="readcube-icon-extended readcube-icon-check"></span> In Library\n    <span class="readcube-triangle-holder" ng-click="onTriangleClick($event)" ng-hide="isPopup">\n      <span class="readcube-icon readcube-icon-triangle readcube-icon-triangle-imported"></span>\n    </span>\n    <span class="readcube-right-box" ng-click="onShowTooltipClick($event)">\n      <span class="readcube-icon-extended readcube-icon-circle"></span>\n    </span>\n  </a>\n  <div ng-switch-when="pdf_downloading">\n    <tether-tooltip view-visibility="tooltipVisibility">\n      <tooltip view-url="tooltip/pdf_downloading" view-model="buttonData" view-visibility="tooltipVisibility"\n               view-class="readcube-tooltip-progress" view-close="yes"></tooltip>\n    </tether-tooltip>\n  </div>\n\n  <a href="#" ng-switch-when="status_in_library_without_pdf_no_subscription" class="readcube-button right-space-icon"\n     ng-click="onInLibraryClick($event)">\n    <span class="readcube-icon-extended readcube-icon-check"></span> In Library\n    <span class="readcube-triangle-holder" ng-click="onTriangleClick($event)" ng-hide="isPopup">\n      <span class="readcube-icon readcube-icon-triangle readcube-icon-triangle-imported"></span>\n    </span>\n    <span class="readcube-right-box" ng-click="onShowTooltipClick($event)">\n      <span class="readcube-icon-extended readcube-icon-arrow-down"></span>\n    </span>\n  </a>\n  <div ng-switch-when="status_in_library_without_pdf_no_subscription">\n    <tether-tooltip view-visibility="tooltipVisibility">\n      <tooltip view-close="yes" view-class="readcube-tooltip-warning" view-url="tooltip/pdf_no_subscription"\n               view-visibility="tooltipVisibility"></tooltip>\n    </tether-tooltip>\n  </div>\n\n  <a href="#" ng-switch-when="status_in_library_without_pdf_expired_subscription" class="readcube-button right-space-icon"\n     ng-click="onInLibraryClick($event)">\n    <span class="readcube-icon-extended readcube-icon-check"></span> In Library\n    <span class="readcube-triangle-holder" ng-click="onTriangleClick($event)" ng-hide="isPopup">\n      <span class="readcube-icon readcube-icon-triangle readcube-icon-triangle-imported"></span>\n    </span>\n    <span class="readcube-right-box" ng-click="onShowTooltipClick($event)">\n      <span class="readcube-icon-extended readcube-icon-arrow-down"></span>\n    </span>\n  </a>\n  <div ng-switch-when="status_in_library_without_pdf_expired_subscription">\n    <tether-tooltip view-visibility="tooltipVisibility">\n      <tooltip view-close="yes" view-class="readcube-tooltip-warning" view-url="tooltip/pdf_expired_subscription"\n               view-visibility="tooltipVisibility"></tooltip>\n    </tether-tooltip>\n  </div>\n\n  <a href="#" ng-switch-when="status_in_library_without_pdf_expired_trial" class="readcube-button right-space-icon"\n     ng-click="onInLibraryClick($event)">\n    <span class="readcube-icon-extended readcube-icon-check"></span> In Library\n    <span class="readcube-triangle-holder" ng-click="onTriangleClick($event)" ng-hide="isPopup">\n      <span class="readcube-icon readcube-icon-triangle readcube-icon-triangle-imported"></span>\n    </span>\n    <span class="readcube-right-box" ng-click="onShowTooltipClick($event)">\n      <span class="readcube-icon-extended readcube-icon-arrow-down"></span>\n    </span>\n  </a>\n  <div ng-switch-when="status_in_library_without_pdf_expired_trial">\n    <tether-tooltip view-visibility="tooltipVisibility">\n      <tooltip view-close="yes" view-class="readcube-tooltip-warning" view-url="tooltip/pdf_expired_trial"\n               view-visibility="tooltipVisibility"></tooltip>\n    </tether-tooltip>\n  </div>\n\n  <div ng-if="offlineTooltipVisibility.visible">\n    <tether-tooltip view-visibility="offlineTooltipVisibility">\n      <tooltip view-close="yes" view-text="Import error - please check your network connection and try again"\n               view-visibility="offlineTooltipVisibility"></tooltip>\n    </tether-tooltip>\n  </div>\n</div>\n'},function(t,e){t.exports='<div class="readcube-dropdown-container" ng-show="show">\n  <div class="dropdown-menu-triangle" ng-class="{down :!isBelowButton, up: isBelowButton}" ng-style="triangleStyle"></div>\n  <ul class="dropdown-menu" ng-style="boxStyle">\n    <button ng-if="shouldDisplayAddButton" ng-click="addToLibrary()" type="button"\n            class="add-to-library-button"\n            style="margin:0 auto; display:block;">\n      Add to Library\n    </button>\n    <li ng-repeat="data in options.groups"\n      class="dropdown-group-name">\n      <span class="dropdown-collection-header" ng-if="hasMultipleCollections()">\n        {{ options.groupNames[data.group_id] }}\n      </span>\n      <ul class="dropdown-group-list" ng-repeat="collection in data.collections">\n        <li class="dropdown-collection-name">\n          <label\n            ng-click="$event.stopPropagation()"\n            style="padding-left: 20px"\n            class="dropdown-truncate">\n            <input\n              class="dropdown-checkbox"\n              type="checkbox"\n              ng-disabled="collection.disabled"\n              ng-model="collection.selected">\n              {{ collection.name }}<span\n                ng-show="!shouldDisplayAddButton && collection._imported"\n                style="cursor: pointer"\n                ng-click="onClickOpenArrow($event, collection.collection_id)"> âžœ</span>\n          </label>\n        </li>\n        <ul class="dropdown-group-list" ng-repeat="list in collection.lists">\n          <li class="dropdown-list-name">\n            <label\n              ng-click="$event.stopPropagation()"\n              ng-style="{\'padding-left\': ((list.level + 2) * 20) + \'px\' }"\n              class="dropdown-truncate">\n              <input\n                class="dropdown-checkbox"\n                type="checkbox"\n                ng-disabled="list.disabled"\n                ng-model="list.selected">\n                {{ list.name }}<span\n                  ng-show="!shouldDisplayAddButton && list._imported"\n                  style="cursor: pointer"\n                  ng-click="onClickOpenArrow($event, collection.collection_id)"> âžœ</span>\n            </label>\n          </li>\n        </ul>\n      </ul>\n    </li>\n  </ul>\n</div>\n'},function(t,e){t.exports='<div class="readcube-login-container" ng-if="show" ng-click="onCloseButtonClick()">\n  <div class="readcube-login-close">\n    <div class="readcube-login-close-button">Ã—</div>\n  </div>\n  <iframe class="readcube-login-iframe" src="{{iframeUrl}}"></iframe>\n</div>'},function(t,e){t.exports='<span\n  ng-if="isInSharedLibrary()"\n  class="readcube-icon-shared-library"\n  ng-attr-title="{{sharedLibrariesTooltip()}}"\n></span>\n'},function(t,e){t.exports='<div class="readcube-progress-bar"\n     ng-class="{\'readcube-progress-bar-upload\': viewModel.progressType == \'progress_upload\',\n      \'readcube-cancel-transition\': viewModel.progressPercent == 100 }"\n     style="width: {{ viewModel.progressPercent }}%"></div>\n<div class="reacube-tooltip-content">\n  <div class="readcube-tooltip-title">\n    Downloading PDF from {{ viewModel.usingPdfUrl | hostname }}...\n  </div>\n</div>'},function(t,e){t.exports='<div class="readcube-tooltip-title">\n  Article metadata imported. <br/> Your <a href="{{ getAccountLink() }}" target="_blank">ReadCube Pro</a> has expired -\n  re-subscribe to also automatically find and import PDFs\n</div>\n<div>\n  <button ng-click="onOpenAccountClick()" class="readcube-blue-button">\n    Go Pro\n  </button>\n  <button ng-click="viewVisibility.visible = false" class="readcube-blue-button readcube-blue-button-disabled">\n    Later\n  </button>\n</div>'},function(t,e){t.exports='<div class="readcube-tooltip-title">\n  Article metadata imported. Your ReadCube Pro has expired - <a href="{{ getAccountLink() }}" target="_blank">re-subscribe</a>\n  or get another 30 day free trial to automatically find and import PDFs\n</div>\n<div>\n  <button ng-click="onOpenAccountClick()" class="readcube-blue-button readcube-small-button">\n    Go Pro\n  </button>\n  <button ng-click="onGetTrialClick()" class="readcube-blue-button readcube-small-button">\n    Get Trial\n  </button>\n  <button ng-click="viewVisibility.visible = false" class="readcube-blue-button readcube-blue-button-disabled readcube-small-button">\n    Later\n  </button>\n</div>'},function(t,e){t.exports='<div ng-if="searchingPdfUrls" class="readcube-tooltip-searching-locations">\n  <span class="readcube-icon-extended readcube-icon-circle"></span> Searching for more download locations...\n</div>\n<div ng-if="!searchingPdfUrls" class="readcube-tooltip-pdf-text">\n  This full text PDF of this article may be available from one or more of the following sites:\n</div>\n<div ng-if="!searchingPdfUrls" class="readcube-tooltip-pdfs-list">\n  <div class="readcube-tooltip-pdf" ng-repeat="pdfUrl in pdfUrls">\n    <span ng-click="onDownloadPdfClick(pdfUrl)" title="Import pdf" class="readcube-tooltip-pdf-download">\n      <span class="readcube-icon-extended readcube-icon-download"></span>\n    </span>\n    <span class="readcube-tooltip-pdf-hostname" title="Open pdf file {{ pdfUrl }}" ng-click="onOpenLinkClick(pdfUrl)">{{pdfUrl | hostname}}</span>\n  </div>\n</div>\n'},function(t,e){t.exports='<div class="readcube-tooltip-title">\n  Article metadata imported. <br/> Try <a href="{{ getAccountLink() }}" target="_blank">ReadCube Pro</a> to also automatically\n  find and import PDFs. Start your risk-free 30 day trial?\n</div>\n<div>\n  <button ng-click="onOpenAccountClick()" class="readcube-blue-button">\n    Start trial\n  </button>\n  <button ng-click="viewVisibility.visible = false" class="readcube-blue-button readcube-blue-button-disabled">\n    Later\n  </button>\n</div>'},function(t,e){t.exports='<div class="readcube-tooltip-title">\n  Automatic PDF Download Unsuccessful\n</div>\n<div>\n  <button ng-if="viewModel.url" ng-click="onOpenLinkClick(viewModel.url)" class="readcube-blue-button">\n    Go to Article Page\n  </button>\n  <button ng-if="!viewModel.url && viewModel.doi" ng-click="onOpenDoiClick(viewModel.doi)" class="readcube-blue-button">\n    Go to Article Page\n  </button>\n  <span class="readcube-icon-holder">\n    <button ng-if="viewModel.pdfUrl" ng-click="onOpenLinkClick(viewModel.pdfUrl)" class="readcube-blue-button">\n      Go to PDF\n    </button>\n    <span ng-if="viewModel.pdfUrl" class="readcube-icon-extended readcube-icon-lock"></span>\n  </span>\n  <div ng-if="institutionName && sfxUrl" class="readcube-institution-sfx">\n    <a href="{{ sfxUrl }}" target="_blank"><span class="readcube-icon-extended readcube-icon-arrow-orange"></span></a>\n    <a href="{{ sfxUrl }}" target="_blank">Find at {{ institutionName }} (SFX)</a>\n  </div>\n  <div ng-if="pdfUrlsAvailable" ng-include="\'tooltip/pdf_list\'" class="readcube-pdf-advanced-search"></div>\n</div>'},function(t,e){t.exports='<div class="readcube-tooltip-title">\n  Automatic PDF Download Unsuccessful\n</div>\n<div>\n  <button ng-if="viewModel.url" ng-click="onLoginWithProxyClick(viewModel.url, viewModel)" class="readcube-blue-button">\n    Go to Article Page\n  </button>\n  <button ng-if="!viewModel.url && viewModel.doi" ng-click="onOpenDoiClick(viewModel.doi)" class="readcube-blue-button">\n    Go to Article Page\n  </button>\n  <span class="readcube-icon-holder">\n    <button ng-if="viewModel.pdfUrl" ng-click="onLoginWithProxyClick(viewModel.pdfUrl, viewModel)"\n            class="readcube-blue-button">\n      Go to PDF\n    </button>\n    <span ng-if="viewModel.pdfUrl" class="readcube-icon-extended readcube-icon-lock"></span>\n  </span>\n  <div ng-if="institutionName && sfxUrl" class="readcube-institution-sfx">\n    <a href="{{ sfxUrl }}" target="_blank"><span class="readcube-icon-extended readcube-icon-arrow-orange"></span></a>\n    <a href="{{ sfxUrl }}" target="_blank">Find at {{ institutionName }} (SFX)</a>\n  </div>\n  <div ng-if="pdfUrlsAvailable" ng-include="\'tooltip/pdf_list\'" class="readcube-pdf-advanced-search"></div>\n</div>'},function(t,e){t.exports='<div class="readcube-button-holder" add-to-library-button\n     ng-show="list.articlesList[%1$d].isReadyForShowing"\n     when-add-to-library-click="list.onAddToLibraryClick(index)"\n     when-in-library-click="list.onInLibraryClick(index)"\n     when-in-library-document-click="list.onInLibraryDocumentClick(index)"\n     when-download-pdf-click="list.onDownloadPdfClick(index)"\n     when-triangle-click="list.onTriangleClick(event, index, isInLibrary)"\n     button-data="list.articlesList[%1$d]"\n     button-index="%1$d"></div>\n'},function(t,e,n){n(2).module("App").run(["$templateCache",function(t){t.put("tooltip/pdf_expired_subscription",n(53)),t.put("tooltip/pdf_expired_trial",n(54)),t.put("tooltip/pdf_no_subscription",n(56)),t.put("tooltip/pdf_downloading",n(52)),t.put("tooltip/pdf_warning",n(57)),t.put("tooltip/pdf_warning_proxy",n(58)),t.put("tooltip/pdf_list",n(55)),t.put("tooltip/index",n(29))}])},function(t,e,n){var i=n(2),r=n(0);i.module("App").config(["$sceDelegateProvider",function(t){t.resourceUrlWhitelist(["self",r.URL_REGEXP_MAIN_URL])}])},function(t,e,n){function i(t,e,n,i,r,c,A,u,F,E,d,f,C,p){function D(t){r.listenForMessages(function(e,n){switch(e.message){case o.MESSAGE_GET_ARTICLES:n(R.articlesList);break;case o.MESSAGE_UPDATE_ARTICLE:var i=a.get(e,"data.updateDetails",{}),r=a.get(e,"data.index",null);if(!a.isNull(r)&&!a.isEmpty(i)){var s=R.articlesList.filter(function(t){return t.isReadyForShowing});a.extend(s[r],i),C.$apply()}n(!0);break;case o.MESSAGE_IS_ABSTRACT_PAGE:n(t.isAbstractPage());break;case o.MESSAGE_SELECT_ALL_SHOW:n(!0);break;case o.MESSAGE_SHOW_LOGIN:R.loginIframe.show=!0,R.queuedArticleIndexes=a.get(e,"data.queuedArticleIndexes",[]),C.$apply(),n(!0);break;default:n(null)}})}function B(){C.tooltipApi=p,C.$watchGroup(["tooltipApi.article","tooltipApi.pdfUrl","tooltipApi.messageCount"],function(t){var e=a.get(t,"[0]"),n=a.get(t,"[1]");e&&n&&R.onDownloadRawPdf(e,n)})}function h(t){var e=R.articlesList[t];n.openDocumentInLibrary(e.collection_id,e.id)}function g(t){var e=R.articlesList[t];n.openItemInLibrary(e.id,e.collection_id),d.trackEvent(o.MIXPANEL_EVENT_INJECTED_BUTTON_IN_LIBRARY_CLICKED)}function v(){var t=!1,e=!1;return u.get(o.SETTING_BUTTON_AVAILABLE_ON,[o.VALUE_BUTTON_AVAILABLE_ON_GOOGLE_SCHOLAR,o.VALUE_BUTTON_AVAILABLE_ON_PUBMED,o.VALUE_BUTTON_AVAILABLE_ON_PUBLISHER_WEBSITES]).then(function(e){return t=e.indexOf(f)>-1,u.get(o.SETTING_PDF_DOWNLOAD,o.VALUE_PDF_DOWNLOAD_AUTOMATIC_ENABLED)}).then(function(t){e=t==o.VALUE_PDF_DOWNLOAD_AUTOMATIC_ENABLED;var n=m();return n.length?i.getStatusWithMetadata(n):[]}).then(function(n){n.forEach(function(n,i){var r=R.articlesList[i];r.extend({isReadyForShowing:r.metadata&&t,id:a.get(n,"id",null),note:n.notes,pdfUrl:n.pdfUrl,pdfHash:n.pdfHash,hasPdf:n.has_file,collections:n.collections,collection_id:n.collection_id,url:n.url}).setInLibraryStatus(n.status,e)})}).catch(function(e){return a.each(R.articlesList,function(e){e.isReadyForShowing=t}),console.error(e),!0}).finally(function(){var t=R.articlesList.filter(function(t){return t.isReadyForShowing});r.sendToBackground("browser_action.SetBadgeAndIcon",t.length)})}function m(){return a.map(R.articlesList,function(t){return t.getIdentifiers()})}function _(t){t.get().forEach(function(t){R.articlesList.push(new l(t))})}function b(t,e,n){var i=R.articlesList[e];c.toggleDropdown(t,e,i,n)}function y(t){c.hideDropdown();var e=R.articlesList[t],n="";switch(f){case o.VALUE_BUTTON_AVAILABLE_ON_GOOGLE_SCHOLAR:n="Google scholar";break;case o.VALUE_BUTTON_AVAILABLE_ON_PUBMED:n="Pubmed";break;default:n="Publisher sites"}return d.trackEvent(o.MIXPANEL_EVENT_INJECTED_BUTTON_ADD_TO_LIBRARY_CLICKED,{"Browser Ext Site Type":n}),!e.isProcessingStatus()&&(e.inLibraryStatus=o.STATUS_METADATA_ADDING,S(e,t).then(function(t){return T(e)}).finally(function(){R.updateStatusForArticle(e).then(function(){P(e).then(function(){chrome.runtime.sendMessage({message:o.MESSAGE_UPDATE_POPUP_ARTICLE_FROM_CONTENT_SCRIPT,data:{index:t,updateDetails:{id:e.id,inLibraryStatus:e.inLibraryStatus,collection_id:e.collection_id,collections:e.collections}}})})})}))}function I(t){var e=R.articlesList[t];return!e.isProcessingStatus()&&T(e).finally(function(){P(e)})}function w(t,n){var i=new e(t),r=t.pdfUrl,a=t.inLibraryStatus;return t.extend({pdfUrl:n,usingPdfUrl:n}),d.setProperty(o.MIXPANEL_PROPERTY_BROWSER_EXTENSION_LAST_SEEN,(new Date).toISOString()),i.upload().then(function(t){d.incrementProperty(o.MIXPANEL_PROPERTY_BROWSER_EXTENSION_PDF,1),d.trackEvent(o.MIXPANEL_EVENT_PDF_DOWNLOADED)}).catch(function(t){d.trackEvent(o.MIXPANEL_EVENT_PDF_DOWNLOAD_FAILED)}).finally(function(){t.pdfUrl=r,t.isPdfDownloadFailed()&&(t.inLibraryStatus=a)})}function T(e,n,i){return u.get(o.SETTING_PDF_DOWNLOAD,o.VALUE_PDF_DOWNLOAD_AUTOMATIC_ENABLED).then(function(n){return n!==o.VALUE_PDF_DOWNLOAD_AUTOMATIC_ENABLED?A.reject("Automatic PDF upload is not enabled"):(d.setProperty(o.MIXPANEL_PROPERTY_BROWSER_EXTENSION_LAST_SEEN,(new Date).toISOString()),e.inLibraryStatus=o.STATUS_PDF_DOWNLOADING,new t(e).upload(i).then(function(t){d.incrementProperty(o.MIXPANEL_PROPERTY_BROWSER_EXTENSION_PDF,1),d.trackEvent(o.MIXPANEL_EVENT_PDF_DOWNLOADED),a.extend(e,{inLibraryStatus:o.STATUS_IN_LIBRARY_WITH_PDF})}).catch(function(t){return d.trackEvent(o.MIXPANEL_EVENT_PDF_DOWNLOAD_FAILED),console.error(t),A.reject("PDF upload and resolve failed")}))})}function S(t,e,n){return void 0===n&&(n=!1),d.setProperty(o.MIXPANEL_PROPERTY_BROWSER_EXTENSION_LAST_SEEN,(new Date).toISOString()),r.sendToBackground("article.AddFromMetadata",{article:t.toJson(),index:e,includeNote:n}).then(function(n){return n.success?(t.extend(n.article),d.incrementProperty(o.MIXPANEL_PROPERTY_BROWSER_EXTENSION_IMPORTED,1),d.trackEvent(o.MIXPANEL_EVENT_METADATA_IMPORTED),n):n.status===s.UNAUTHORIZED?(R.loginIframe.show=!0,R.queuedArticleIndexes=[e],A.reject("User is not authorized")):A.reject(n)})}function L(t){R.loginIframe.show=!1,R.loadArticles().then(c.loadListOptions).then(R.addQueuedArticles).finally(function(){R.queuedArticleIndexes=[]}),E.setLoggedInUserDetails(t)}function x(){var t=[];return a.each(R.queuedArticleIndexes,function(e){R.articlesList[e].isInLibrary()||t.push(R.onAddToLibraryClick(e))}),A.all(t)}function P(t){return E.getInstitutionProxy().then(function(e){return t.finishProcessingStatus(!0),!0}).catch(function(){return t.finishProcessingStatus(!1),!1})}function O(t){d.trackEvent(o.MIXPANEL_EVENT_INJECTED_BUTTON_LIST_SELECTED),this.onAddToLibraryClick(t)}var R=this;R.articlesList=[],R.loginIframe={show:!1},R.queuedArticleIndexes=[],R.onInLibraryDocumentClick=h,R.onInLibraryClick=g,R.onTriangleClick=b,R.onAddToLibraryClick=y,R.onDownloadRawPdf=w,R.onDownloadPdfClick=I,R.onListClick=O,R.onSuccessfullyLoggedIn=L,R.addArticleFromPDF=T,R.addArticleFromMetadata=S,R.initArticles=_,R.loadArticles=v,R.listenForMessages=D,R.listenForTooltip=B,R.finishArticleStatus=P,R.addQueuedArticles=x,R.updateStatusForArticle=i.updateStatusForArticle.bind(i)}i.$inject=["ProxyUpload","RawUpload","BrowserTab","Article","Message","ListDropdownApi","$q","Storage","List","User","Mixpanel","SiteType","$scope","TooltipApi"];var r=n(2),o=n(0),a=n(1),s=n(11),l=n(15);r.module("App").controller("GeneralList",i)},function(t,e,n){function i(t,e){return{restrict:"A",template:n(48),scope:{buttonIndex:"@",buttonData:"=",isPopup:"=",whenAddToLibraryClick:"&",whenInLibraryClick:"&",whenInLibraryDocumentClick:"&",whenDownloadPdfClick:"&",whenTriangleClick:"&"},controller:["$scope",function(n){function i(t){u(t),d()&&o.isFunction(n.whenAddToLibraryClick)&&n.whenAddToLibraryClick({index:n.buttonIndex})}function r(t){u(t),d()&&o.isFunction(n.whenInLibraryClick)&&n.whenInLibraryClick({index:n.buttonIndex})}function s(t){u(t),d()&&o.isFunction(n.whenInLibraryDocumentClick)&&n.whenInLibraryDocumentClick({index:n.buttonIndex})}function l(t){u(t);var e="not_found"!=n.buttonData.inLibraryStatus;if(d())return o.isFunction(n.whenTriangleClick)&&n.whenTriangleClick({index:n.buttonIndex,event:t,isInLibrary:e}),!1}function c(t){u(t),d()&&o.isFunction(n.whenDownloadPdfClick)&&n.whenDownloadPdfClick({index:n.buttonIndex})}function A(t){u(t),d()&&(n.tooltipVisibility.visible=!0)}function u(t){t instanceof MouseEvent&&(t.preventDefault(),t.stopPropagation())}function F(){d(!1)&&(n.tooltipVisibility.visible=!0)}function E(){n.tooltipVisibility.visible=!1}function d(t){return void 0===t&&(t=!0),e.isOffline()?(n.tooltipVisibility.visible=!1,t&&(n.offlineTooltipVisibility.visible=!0)):n.offlineTooltipVisibility.visible=!1,e.isOnline()}n.onAddToLibraryClick=i,n.onInLibraryClick=r,n.onInLibraryDocumentClick=s,n.onTriangleClick=l,n.preventPropagation=u,n.onDownloadPdfClick=c,n.onShowTooltipClick=A,n.onMouseEnter=F,n.onMouseLeave=E,n.tooltipVisibility={visible:!1},n.offlineTooltipVisibility={visible:!1},n.online=navigator.onLine,n.$watch("buttonData.inLibraryStatus",function(e){e===a.STATUS_IN_LIBRARY_WITHOUT_PDF_EXPIRED_SUBSCRIPTION||e===a.STATUS_IN_LIBRARY_WITHOUT_PDF_NO_SUBSCRIPTION?t.get(a.STORAGE_KEY_DISPLAYED_GO_PRO_TOOLTIP,!1).then(function(e){e?n.tooltipVisibility.visible=!1:(t.set(a.STORAGE_KEY_DISPLAYED_GO_PRO_TOOLTIP,!0),n.tooltipVisibility.visible=!0)}):n.tooltipVisibility.visible=!1})}]}}i.$inject=["Storage","OnlineStatus"];var r=n(2),o=n(1),a=n(0);r.module("App").directive("addToLibraryButton",i)},function(t,e,n){function i(t,e,i,r,F,E,d,f){return{restrict:"A",template:n(49),scope:{isBelowButton:"=?",selectedListName:"=?",whenListClick:"&",onAddToLibraryClick:"&",isAnySelected:"=?"},link:function(n,C,p){function D(){o.isFunction(n.onAddToLibraryClick)&&n.onAddToLibraryClick({index:n.api.index})}function B(t,e){t.stopPropagation(),t.preventDefault();var r=n.api.article,o=m(e,r);i.openItemInLibrary(o,e)}function h(t,e){if(e){var i=o.flatten(o.values(n.selectedItems));return o.includes(i,e)}return o.has(n.selectedItems,t)}function g(t){o.each(n.options.groups,function(e){o.each(e.collections,function(e){e._imported=o.some(t.collections,function(t){return e.collection_id==t.id}),o.each(e.lists,function(e){e._imported=o.some(e.item_ids,function(e){return o.some(t.collections,{item_id:e})})})})})}function v(t,e){return!t&&e?o.has(n.selectedItems,e)?delete n.selectedItems[e]:n.selectedItems[e]=[]:o.has(n.selectedItems,e)?o.includes(n.selectedItems[e],t)?o.pull(n.selectedItems[e],t):n.selectedItems[e].push(t):n.selectedItems[e]=[t],n.isAnySelected=!o.isEmpty(n.selectedItems),F.set({selectedItems:n.selectedItems}),!1}function m(t,e){var n=o.find(e.collections,{id:t});return o.get(n,"item_id")}function _(t,e,n){if(1==n){var i=s(c.URL_COLLECTION_IMPORT_FROM_COLLECTION,e.collection_id);return l.post(i,{from_collection_id:t.collection_id,item_ids:[t.id],annotations:!1}).then(function(n){return b(t,e,n),!0})}var r=m(e.collection_id,t),o=s(c.URL_REMOVE_FROM_COLLECTION,e.collection_id,r);return l.delete(o)}function b(t,e,n){var i=o.get(n,"data.items[0]");if(e.collection_id==i.collection_id){o.some(t.collections,{id:e.collection_id})||t.collections.push({id:i.collection_id,item_id:i.id,name:e.name,shared:e.shared})}}function y(t,e,n,i){if(1==i){var r=m(e.collection_id,t);if(r)return l.post(s(c.URL_ADD_TO_COLLECTION_LIST,e.collection_id,n.id),{item_ids:[r]}).then(function(t){I(o.get(t,"data.list"))});var a=s(c.URL_COLLECTION_IMPORT_FROM_COLLECTION,e.collection_id);return l.post(a,{from_collection_id:t.collection_id,item_ids:[t.id],annotations:!1}).then(function(i){if(i.status==u.OK){b(t,e,i);var r=o.get(i,"data.items[0].id");return e._imported=!0,l.post(s(c.URL_ADD_TO_COLLECTION_LIST,e.collection_id,n.id),{item_ids:[r]}).then(function(t){I(o.get(t,"data.list"))})}})}var r=m(e.collection_id,t);return l.post(s(c.URL_REMOVE_FROM_COLLECTION_LIST,e.collection_id,n.id),{item_ids:[r]}).then(function(t){I(o.get(t,"data.list"))})}function I(t){if(t){var e=o.find(o.flatMap(n.options.groups,"collections"),{collection_id:t.collection_id}),i=o.find(e.lists,{id:t.id});i.item_ids=t.item_ids,i.items=t.items}}function w(t){o.each(t.groups,function(t){o.each(t.collections,function(t){t._selected=h(t.collection_id,null),Object.defineProperty(t,"selected",{get:function(){return n.api.isInLibrary?t._imported:t._selected},set:function(e){n.api.isInLibrary?(t.disabled=!0,_(n.api.article,t,e).then(function(){return t._imported=e,t.disabled=!1,o.each(t.lists,function(t){t._imported=!1}),n.$apply(),a.delay(1e3).then(function(){return r.updateStatusForArticle.bind(r,n.api.article)()})}).finally(function(){t.disabled=!1})):(t._selected=e,0==e&&o.each(t.lists,function(t){1==t.selected&&(t.selected=!1)}),v(null,t.collection_id))}}),o.each(t.lists,function(e){e._selected=h(t.collection_id,e.id),Object.defineProperty(e,"selected",{get:function(){return n.api.isInLibrary?e._imported:e._selected},set:function(i){n.api.isInLibrary?(e.disabled=!0,t.disabled=!0,y(n.api.article,t,e,i).then(function(){return e._imported=i,e.disabled=!1,t.disabled=!1,n.$apply(),a.delay(1e3).then(function(){return r.updateStatusForArticle.bind(r,n.api.article)()})}).finally(function(){t.disabled=!1,e.disabled=!1})):(e._selected=i,0==t.selected&&1==i&&(t.selected=!0),t.selected&&(v(e.id,t.collection_id),o.every(t.lists,{selected:!1})&&(t.selected=!1)))}})})})})}function T(t){var e=R();return o.chain(t).keys().every(o.partial(o.has,e)).value()}function S(){return F.get("selectedItems",{}).then(function(t){if(o.isEmpty(n.options))n.selectedItems=t;else if(o.isEmpty(t)||o.has(t,"0")||!T(t)){var e=o.chain(n.options).get("groups",[]).find(function(t){return null==t.group_id||"null"==t.group_id}).get("collections[0]",null).value();if(e){e.selected=!0;var i=e.collection_id;n.selectedItems={},n.selectedItems[i]=[],F.set({selectedItems:n.selectedItems})}}else n.selectedItems=t;return!0})}function L(t){var e=o.chain(t.groups).flatMap("collections").keyBy("collection_id").value(),i=[];o.each(n.selectedItems,function(t,r){var a=e[r];if(a){var s=o.filter(t,function(t){return o.some(a.lists,{id:t})});n.selectedItems[r]=s}else i.push(r)}),o.each(i,function(t){delete n.selectedItems[t]})}function x(){return t.queryStorage().then(function(t){return w(t),n.options=t,!0}).catch(function(t){return console.error(t),!0}).then(function(){return t.queryFlat()}).then(function(t){return o.isEqual(t,n.options)||(F.set({lists:t}),L(t),w(t),n.options=t),n.selectedListName=U(),S()}).catch(function(t){t.status==u.UNAUTHORIZED&&(F.set({lists:null}),n.options={groups:[{group_id:null,collections:[{name:c.DEFAULT_PERSONAL_LIBRARY_NAME,collection_id:"0",lists:[],selected:!0}]}]},n.selectedItems={0:[]})})}function P(){return n.options&&n.options.groups&&n.options.groups.length>1}function O(t){var e=t.offset(),i=t.width(),r=e.left,o=e.top,a=A("#readcube-injected-button-dropdown");if(a.length){var s=a.offsetParent().offset();r-=s.left,o-=s.top}var l=r+i/2-70+"px";if(n.isBelowButton)n.triangleStyle={left:l,top:o+23+"px"},n.boxStyle={left:l,top:o+20+"px"};else{var c=d[0].body.clientHeight;n.triangleStyle={left:l,bottom:c-o+10+"px"},n.boxStyle={left:l,bottom:c-o+15+"px"}}}function R(){return o.chain(n.options.groups).flatMap("collections").keyBy("collection_id").value()}function U(){var t=R();return o.chain(n.selectedItems).toPairs().reduce(function(e,n){var i=n[0],r=n[1],a=t[i];if(a){var s=o.reduce(a.lists,function(t,e){return o.includes(r,e.id)?t.concat(e.name):t},[]);return o.isEmpty(s)?e.concat(a.name):e.concat(s)}return e},[]).join(", ").value()}function N(t){o.some(j,function(e){return t.target.className.indexOf(e)>-1})||n.$apply(function(){n.api.hideDropdown()})}var k=null;n.options={},E.loadListOptions=x,n.shouldDisplayAddButton=p.shouldDisplayAddButton||!1,n.api=E,n.hasMultipleCollections=P,n.selectedItems={},S().then(x).then(S),n.addToLibrary=D,n.onClickOpenArrow=B,e.listenForMessages(function(t,e){switch(t.message){case c.MESSAGE_UPDATE_LISTS:var n=o.map(o.get(t,"data.lists",[]),"data.list",[]);o.each(n,I);break;default:e(null)}});var M=o.debounce(function(){n.show&&k&&(O(k),n.$apply())},200);d.on("click",N),A(f).on("resize",M),n.$on("$destroy",function(){d.off("click",N),A(f).off("resize",M)}),n.$watch("api.show",function(){var t=n.api.event;n.shouldDisplayAddButton=!n.api.isInLibrary,n.shouldDisplayAddButton||g(n.api.article),t&&n.api.show?(k=A("caret"==t.target.className?t.target.parentElement:t.target),O(k),n.show=!0):(n.show=!1,k=null)}),n.$watch("selectedItems",function(){o.isEmpty(n.options)||(n.selectedListName=U()),F.set({selectedItems:n.selectedItems})},!0);var j=["dropdown-menu","dropdown-group-name","dropdown-group-list","dropdown-collection-header"]}}}i.$inject=["List","Message","BrowserTab","Article","Storage","ListDropdownApi","$document","$window"];var r=n(2),o=n(1),a=n(8),s=n(5).sprintf,l=n(7),c=n(0),A=n(4),u=n(11);r.module("App").directive("listDropdown",i)},function(t,e,n){function i(t){return{restrict:"A",template:n(50),scope:{show:"=",whenSuccessfullyLoggedIn:"&"},link:function(e,n,i){function r(){e.show=!1}e.iframeUrl=a.URL_LOGIN_FORM,e.onCloseButtonClick=r,e.$watch("show",function(){var n=t.document;s(n.body).add(n.documentElement).toggleClass("readcube-iframe-displayed",e.show)}),t.addEventListener("message",function(t){if(!o.get(t,"origin","").match(a.URL_REGEXP_MAIN_URL))return!1;var n=t.data;"auth:success"!==n.type||"login"!==n.auth&&"register"!==n.auth||(e.whenSuccessfullyLoggedIn({userData:n.user}),e.$apply())})}}}i.$inject=["$window"];var r=n(2),o=n(1),a=n(0),s=n(4);n(5).sprintf,n(74);r.module("App").directive("loginIframe",i)},function(t,e,n){function i(){return{restrict:"A",template:n(51),scope:{buttonData:"="},controller:["$scope",function(t){function e(){var e=t.buttonData.collections;return!!e&&e.some(function(t){return t.shared})}function n(){var e=t.buttonData.collections;if(e){return e.map(function(t){return t.name||"Personal"}).join(", ")}return""}t.isInSharedLibrary=e,t.sharedLibrariesTooltip=n}]}}var r=n(2);n(1),n(0);r.module("App").directive("sharedLibraryIcon",i)},function(t,e,n){function i(){return function(t){return o.isString(t)?a.parse(t).hostname:""}}var r=n(2),o=n(1),a=n(9);r.module("App").filter("hostname",i)},function(t,e,n){function i(t,e){return{responseError:function(n){return-1!==s.get(n,"config.url","").indexOf(o.DOMAIN_READCUBE)&&n.status==a.UNAUTHORIZED&&t.set({loggedInUserDetails:null}),e.reject(n)}}}i.$inject=["Storage","$q"];var r=n(2),o=n(0),a=n(11),s=n(1);r.module("App").factory("ClearUserDataInterceptor",i).config(["$httpProvider",function(t){t.interceptors.push("ClearUserDataInterceptor")}])},function(t,e,n){function i(){return{show:!1,isInLibrary:!1,index:null,event:null,article:null,showDropdown:function(t,e,n,i){this.event=t,this.show=!0,this.index=e,this.isInLibrary=i,this.article=n},hideDropdown:function(){this.event=null,this.show=!1,this.index=null},toggleDropdown:function(t,e,n,i){this.show?this.hideDropdown():this.showDropdown(t,e,n,i)},loadListOptions:function(){}}}n(2).module("App").factory("ListDropdownApi",i)},function(t,e,n){function i(t,e,n,i,r){function u(){return a.get("loggedInUserDetails",null).then(function(t){return a.get("selectedItems",{}).then(function(e){return{userId:c.get(t,"id",null),selectedItems:e}})})}return A(n,{upload:function(e){var n=this;n.article.extend({progressPercent:0,progressType:o.PROGRESS_DOWNLOAD,usingPdfUrl:n.article.pdfUrl});var i;return t.when(function(){return n.article.pdfUrl?(i=n.article.pdfUrl,n.getProxiedDownloadPromise(n.article.pdfUrl)):t.reject("Pdf url not available")}()).catch(function(e){function o(){return n.article.doi?r.sendToBackground("request.GetPdfUrlsFromDxDoi",n.article.doi).then(function(e){var r=c.get(e,"[0]",null);return r?(n.article.extend({progressPercent:0,usingPdfUrl:r}),i=r,n.getProxiedDownloadPromise(r)):t.reject("Unable to find PDF url from dx.doi.org resolve")}):t.reject(e)}return n.article.parsedPdfUrl?(i=n.article.parsedPdfUrl,n.getProxiedDownloadPromise(n.article.parsedPdfUrl).catch(function(t){return o()})):o()}).then(function(r){var a=n.fixPdfFilename(r.fileName);return u().then(function(t){var A=c.keys(t.selectedItems),u="";return i&&i.length&&(u=encodeURIComponent(i.substring(0,500))),c.map(A,function(t){var i=s(o.URL_UPLOAD,t,"false",r.sha256Hash,n.article.doi?n.article.doi:"",n.article.pmid?n.article.pmid:"",r.fileSize,(e?e[t]:null)||n.article.id||"",encodeURIComponent(a),u);return l.get(i)})}).then(function(e){return t.all(e).then(function(e){return t.all(c.map(e,function(e,i){var a=c.get(e,"data.url",null);return a?(0==i&&(n.article.progressPercent=0,n.article.progressType=o.PROGRESS_UPLOAD),n.getUploadPromise(a,r.blob).then(null,null,function(t){n.article.progressPercent=t})):t.reject("Url not received from preparing to upload")}))})})}).catch(function(t){return n.evaluateUploadError(t)})},getProxiedDownloadPromise:function(t){var n=this;return n.getDownloadPromise({url:t,isProxied:!1}).catch(function(){return e.getInstitutionProxy().then(function(e){var i=e.replace(o.EZPROXY_URL_REPLACE_KEY,t);return n.article.progressPercent=0,n.getDownloadPromise({url:i,isProxied:!0})})})}})}i.$inject=["$q","User","Upload","$http","Message"];var r=n(2),o=n(0),a=n(26),s=n(5).sprintf,l=n(7),c=n(1),A=n(3);r.module("App").factory("ProxyUpload",i)},,function(t,e,n){var i=n(3);t.exports=i({insertAngularDirectives:function(){},bootstrapAngular:function(){},get:function(){},getPlain:function(){},getIdentifiers:function(t){},getMetadata:function(t){},getArticleHolders:function(){},isAbstractPage:function(){},getButtonHolder:function(t){},insertButtons:function(){},getAngularInjector:function(t,e){},getExecutePromise:function(){},getDoiFromElement:function(t){}})},,,function(t,e,n){"use strict";var i=["lastName","nondropped","dropped","firstName","middle","suffix"];Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";function i(t){var e={},n=o.default(t);if(0==n.length)return e;var i=new s.default(0,n.length);if(n.length>1){e.suffix=l.tryGetSuffix(n[n.length-1]),e.suffix&&i.length--;var r=i.length-1;if(r>0){r>2&&(r=2);var a=new s.default(0,r),c=a.sliceArray(n),A=l.particlesRangeInTokens(c,!0);if(0==A.location){i.location+=A.length,i.length-=A.length;var u=A.sliceArray(n);F=l.splitParticleParts(u),e.dropped=F[0],e.nondropped=F[1]}}}return null!=i.location&&(e.lastName=i.sliceArray(n).map(function(t){return"{"==t[0]?t.substring(1):t}).join(" ")),e;var F}function r(t){var e={},n=t.split(","),r=i(n[0]);e.lastName=r.lastName,e.dropped=r.dropped,e.nondropped=r.nondropped,e.suffix=r.suffix;var c=n.length;if(c>1){var A=1;!e.suffix&&c>2&&(e.suffix=l.tryGetSuffix(n[1].trim()),e.suffix&&(A=2));var u=new s.default(A,c-A),F=u.sliceArray(n),E=F.reduce(function(t,e){return t.concat(o.default(e))},[]);d=l.firstAndMiddleFromTokens(E),e.firstName=d[0],e.middle=d[1]}return e.nameString=a.default(e),e;var d}var o=n(28),a=n(27),s=n(17),l=n(18);Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},function(t,e,n){"use strict";function i(t){var e={},n=r.default(t);if(n.length>1){var i=n[n.length-1];e.suffix=s.tryGetSuffix(i)}var l=n.length;e.suffix&&l--,n.length>0&&l--;var c=n.slice(0,l),A=s.particlesRangeInTokens(c),u=new o.default;A.notFound()?(n.length>0&&(u=new o.default(n.length-1,1),e.suffix&&u.location--),A=new o.default(u.location,0)):(u.location=A.maxRange(),u.length=n.length-u.location,e.suffix&&u.length--),n=n.map(function(t){return"{"==t[0]?t.substring(1):t});var F=new o.default(0,A.location),E=F.sliceArray(n);if(C=s.firstAndMiddleFromTokens(E),e.firstName=C[0],e.middle=C[1],A.length>0){var d=A.sliceArray(n);p=s.splitParticleParts(d),e.dropped=p[0],e.nondropped=p[1]}if(1==u.length&&void 0!==u.location)e.lastName=n[u.location];else if(u.length>1){var f=u.sliceArray(n);e.lastName=f.join(" ")}return e.nameString=a.default(e),e;var C,p}var r=n(28),o=n(17),a=n(27),s=n(18);Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";function i(t){if(!t)throw"Invalid value";return t.indexOf(",")>-1?o.default(t):r.default(t)}var r=n(77),o=n(76),a=n(18);e.fullnameForAuthor=a.fullnameForAuthor,Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";var i={al:["al",""],dos:["dos",""],el:["el",""],"de las":["de","Las"],lo:["lo",""],les:["les",""],il:["il",""],del:["","del"],dela:["dela",""],della:["della",""],dello:["dello",""],di:["","Di"],da:["","Da"],do:["","Do"],lou:["","Lou"],pietro:["","Pietro"],de:["","de"],"de la":["de","La"],du:["du",""],"d'":["d'",""],le:["","Le"],la:["","La"],"l'":["","L'"],saint:["","Saint"],sainte:["","Sainte"],"st.":["","Saint"],"ste.":["","Sainte"],van:["","van"],"van de":["","van de"],"van der":["","van der"],"van den":["","van den"],vander:["","vander"],"v.d.":["","vander"],vd:["","vander"],"van het":["","van het"],ver:["","ver"],ten:["ten",""],ter:["ter",""],te:["te",""],"op de":["op de",""],"in de":["in de",""],"in 't":["in 't",""],"in het":["in het",""],"uit de":["uit de",""],"uit den":["uit den",""],von:["von",""],"von der":["von der",""],"von dem":["von dem",""],"von zu":["von zu",""],"v.":["von",""],v:["von",""],vom:["vom",""],das:["das",""],zum:["zum",""],zur:["zur",""],den:["den",""],der:["der",""],des:["des",""],"auf den":["auf den",""],mac:["","Mac"],mc:["","Mc"],"o'":["","O'"],ben:["","Ben"],bin:["","Bin"],sen:["sen",""]};Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var i=n(4),r=n(3),o=n(1);t.exports=r({getButtonHolder:function(t){return t.find(".gs_ri .gs_fl")},getArticleHolders:function(t){return i("#gs_res_ccl_mid",t||null).find(">.gs_r:not(:has(>.gs_rt))")},getAllVersionsUrl:function(t){return t.find('.gs_fl a[href^="/scholar?cluster="]').attr("href")},getParsedPdfUrl:function(t){var e=t.find('.gs_ggs a:contains("[PDF]")');return e.length?e.attr("href"):null},getTitle:function(t){var e=t.find("h3").clone();e.find("> span").remove();var n=e.text();if(!n){var i=t.find("h3").contents().filter(function(){return this.nodeType==Node.TEXT_NODE});i&&(n=o.trim(i.text()," "))}return n}})},,,,,,,,,,,,function(t,e,n){var i=n(2);n(186),n(73),i.module("App",["ngAnimate"]).constant("GoogleScholarIds",n(166)),function(t){t.keys().forEach(t)}(n(225)),n(66),n(63),n(35),n(33),n(64),n(65),n(34),n(32),n(62),n(44),n(69),n(68),n(36),n(23),n(37),n(71),n(22),n(39),n(38),n(40),n(24),n(41),n(43),n(70),n(42),n(61),n(60),n(21),n(67),t.exports=i.module("App")},function(t,e,n){var i=n(4),r=n(5).sprintf,o=n(1),a=n(0),s=n(7),l=n(210).XRegExp,c=n(10),A=n(3),u=n(12),F=n(153),E=A([c,F],{getIdentifiers:function(t){var e={pmid:null,doi:null,gsid:null},n=t.find("h3 a").attr("href");if(n){var i=n.match(a.REGEXP_DOI);i&&i.length>=1&&(e.doi=this.applyDoiExceptions(n,i[0]));var o=n.match(a.REGEXP_PMID);o&&o.length>=2&&(e.pmid=o[1])}var s=this.getRelatedId(t),l=this.getCiteId(t);return s&&(e.gsid=r("%s:%s",s,l)),e.parsedPdfUrl=t.find(".gs_ggsd a:has(span:contains(PDF))").attr("href"),e},getIdentifiersFromAllVersions:function(t){var e=i(this.getArticleHolders()[t]),n=this;return this.getAngularInjector(function(t){var r=n.getAllVersionsUrl(e);return r?s.get(r,!0).then(function(e){var r={};return i(e.data).find(".gs_r").each(function(){var t=n.getIdentifiers(i(this));if(t.doi&&(r.doi=t.doi),t.pmid&&(r.pmid=t.pmid),r.pmid&&r.doi)return!1}),r.pmid||r.doi?t.resolve(r):t.reject("No pmid or doi were found")}):t.reject("No all versions url found")})},getCiteId:function(t){var e=t.find('.gs_fl a[href^="/scholar?cites="]').attr("href");if(e){var n=e.match(a.REGEXP_CITE_ID);if(n&&n.length>=2)return n[1]}return null},getRelatedId:function(t){function e(t,e){var r=null;return o.each(n,function(n){var o=i(n).attr(t);if(o){var a=o.match(e);a&&2==a.length&&(r=a[1])}}),r}var n=t.find(".gs_fl a.gs_nph"),r=e("onclick",/event,'(.*?)'/);return r||(r=e("href",/scholar.googleusercontent.com\/scholar.+\?q=info:(.*):/)),r||(r=i(t).attr("data-cid")),r},applyDoiExceptions:function(t,e){return o.each(a.EXCEPTION_MATCH_DOI,function(n){t.match(n.match)&&(e=e.replace(n.replacement,""))}),e},annotationsRegExp:l(a.XREGEXP_GOOGLE_SCHOLAR_ANNOTATIONS),getMetadata:function(t){var e=t.find(".gs_a").text().replace(/â€¦/g,""),n=this.annotationsRegExp.exec(e);if(!o.isEmpty(n)&&n.length>=4)var i=o.chain(n[1]).trim().thru(function(t){return t.split(", ")}).compact().value(),r=o.chain(n).get("[2]","").trim().value(),a=o.chain(n).get("[3]","").trim().value();return{title:this.getTitle(t),abstract:t.find(".gs_rs").text(),authors:i,year:a,journal:r}},getMetadataFromRefman:function(t,e){var n=i(this.getArticleHolders()[e]);return this.getDataFromRefman(t,e).then(function(t){return u.refmanToMetadata(t)}).catch(function(){return{title:n.find("h3 a").text(),abstract:n.find(".gs_rs").text()}})},getDataFromRefman:function(t,e){var n=r(a.URL_EXPORT_GOOGLE_SCHOLAR,document.domain,t,e);return s.get(n,!0).then(function(t){if(200==t.status){var e=document.getElementById("gs_citd");e.innerHTML=t.data;var n=i(e).find(".gs_citi"),r=o.find(n,function(t){return t.getAttribute("href").indexOf("scholar.ris")>-1}),a=r.getAttribute("href");return s.get(a,!0).then(function(t){if(200==t.status)return t.data})}})},get:function(){return o.map(this.getArticleHolders(),function(t){var e=i(t);return o.extend(this.getIdentifiers(e),{metadata:this.getMetadata(e)})}.bind(this))}});t.exports=new E},,,,,,,,,,,,,,,,,,,,function(t,e){},,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){/*!
 * XRegExp v2.0.0
 * (c) 2007-2012 Steven Levithan <http://xregexp.com/>
 * MIT License
 */
var i;i=i||function(t){"use strict";function n(t,e,n){var i;for(i in u.prototype)u.prototype.hasOwnProperty(i)&&(t[i]=u.prototype[i]);return t.xregexp={captureNames:e,isNative:!!n},t}function i(t){return(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":"")}function r(t,e,r){if(!u.isRegExp(t))throw new TypeError("type RegExp expected");var o=f.replace.call(i(t)+(e||""),g,"");return r&&(o=f.replace.call(o,new RegExp("["+r+"]+","g"),"")),t=t.xregexp&&!t.xregexp.isNative?n(u(t.source,o),t.xregexp.captureNames?t.xregexp.captureNames.slice(0):null):n(new RegExp(t.source,o),null,!0)}function o(t,e){var n=t.length;if(Array.prototype.lastIndexOf)return t.lastIndexOf(e);for(;n--;)if(t[n]===e)return n;return-1}function a(t,e){return Object.prototype.toString.call(t).toLowerCase()==="[object "+e+"]"}function s(t){return t=t||{},"all"===t||t.all?t={natives:!0,extensibility:!0}:a(t,"string")&&(t=u.forEach(t,/[^\s,]+/,function(t){this[t]=!0},{})),t}function l(t,e,n,i){var r,o,a=D.length,s=null;b=!0;try{for(;a--;)if(o=D[a],("all"===o.scope||o.scope===n)&&(!o.trigger||o.trigger.call(i))&&(o.pattern.lastIndex=e,(r=C.exec.call(o.pattern,t))&&r.index===e)){s={output:o.handler.call(i,r,n),match:r};break}}catch(t){throw t}finally{b=!1}return s}function c(t){u.addToken=F[t?"on":"off"],d.extensibility=t}function A(t){RegExp.prototype.exec=(t?C:f).exec,RegExp.prototype.test=(t?C:f).test,String.prototype.match=(t?C:f).match,String.prototype.replace=(t?C:f).replace,String.prototype.split=(t?C:f).split,d.natives=t}var u,F,E,d={natives:!1,extensibility:!1},f={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},C={},p={},D=[],B={default:/^(?:\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\d*|x[\dA-Fa-f]{2}|u[\dA-Fa-f]{4}|c[A-Za-z]|[\s\S])|\(\?[:=!]|[?*+]\?|{\d+(?:,\d*)?}\??)/,class:/^(?:\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\dA-Fa-f]{2}|u[\dA-Fa-f]{4}|c[A-Za-z]|[\s\S]))/},h=/\$(?:{([\w$]+)}|(\d\d?|[\s\S]))/g,g=/([\s\S])(?=[\s\S]*\1)/g,v=/^(?:[?*+]|{\d+(?:,\d*)?})\??/,m=void 0===f.exec.call(/()??/,"")[1],_=void 0!==RegExp.prototype.sticky,b=!1,y="gim"+(_?"y":"");return u=function(t,e){if(u.isRegExp(t)){if(void 0!==e)throw new TypeError("can't supply flags when constructing one RegExp from another");return r(t)}if(b)throw new Error("can't call the XRegExp constructor within token definition functions");var i,o,a,s=[],c="default",A={hasNamedCapture:!1,captureNames:[],hasFlag:function(t){return e.indexOf(t)>-1}},F=0;if(t=void 0===t?"":String(t),e=void 0===e?"":String(e),f.match.call(e,g))throw new SyntaxError("invalid duplicate regular expression flag");for(t=f.replace.call(t,/^\(\?([\w$]+)\)/,function(t,n){if(f.test.call(/[gy]/,n))throw new SyntaxError("can't use flag g or y in mode modifier");return e=f.replace.call(e+n,g,""),""}),u.forEach(e,/[\s\S]/,function(t){if(y.indexOf(t[0])<0)throw new SyntaxError("invalid regular expression flag "+t[0])});F<t.length;)i=l(t,F,c,A),i?(s.push(i.output),F+=i.match[0].length||1):(o=f.exec.call(B[c],t.slice(F)),o?(s.push(o[0]),F+=o[0].length):(a=t.charAt(F),"["===a?c="class":"]"===a&&(c="default"),s.push(a),++F));return n(new RegExp(s.join(""),f.replace.call(e,/[^gimy]+/g,"")),A.hasNamedCapture?A.captureNames:null)},F={on:function(t,e,n){n=n||{},t&&D.push({pattern:r(t,"g"+(_?"y":"")),handler:e,scope:n.scope||"default",trigger:n.trigger||null}),n.customFlags&&(y=f.replace.call(y+n.customFlags,g,""))},off:function(){throw new Error("extensibility must be installed before using addToken")}},u.addToken=F.off,u.cache=function(t,e){var n=t+"/"+(e||"");return p[n]||(p[n]=u(t,e))},u.escape=function(t){return f.replace.call(t,/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},u.exec=function(t,e,n,i){var o,a=r(e,"g"+(i&&_?"y":""),!1===i?"y":"");return a.lastIndex=n=n||0,o=C.exec.call(a,t),i&&o&&o.index!==n&&(o=null),e.global&&(e.lastIndex=o?a.lastIndex:0),o},u.forEach=function(t,e,n,i){for(var r,o=0,a=-1;r=u.exec(t,e,o);)n.call(i,r,++a,t,e),o=r.index+(r[0].length||1);return i},u.globalize=function(t){return r(t,"g")},u.install=function(t){t=s(t),!d.natives&&t.natives&&A(!0),!d.extensibility&&t.extensibility&&c(!0)},u.isInstalled=function(t){return!!d[t]},u.isRegExp=function(t){return a(t,"regexp")},u.matchChain=function(t,e){return function t(n,i){var r,o=e[i].regex?e[i]:{regex:e[i]},a=[],s=function(t){a.push(o.backref?t[o.backref]||"":t[0])};for(r=0;r<n.length;++r)u.forEach(n[r],o.regex,s);return i!==e.length-1&&a.length?t(a,i+1):a}([t],0)},u.replace=function(t,e,n,i){var o,a=u.isRegExp(e),s=e;return a?(void 0===i&&e.global&&(i="all"),s=r(e,"all"===i?"g":"","all"===i?"":"g")):"all"===i&&(s=new RegExp(u.escape(String(e)),"g")),o=C.replace.call(String(t),s,n),a&&e.global&&(e.lastIndex=0),o},u.split=function(t,e,n){return C.split.call(t,e,n)},u.test=function(t,e,n,i){return!!u.exec(t,e,n,i)},u.uninstall=function(t){t=s(t),d.natives&&t.natives&&A(!1),d.extensibility&&t.extensibility&&c(!1)},u.union=function(t,e){var n,i,r,o,s=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*]/g,l=0,c=function(t,e,r){var o=i[l-n];if(e){if(++l,o)return"(?<"+o+">"}else if(r)return"\\"+(+r+n);return t},A=[];if(!a(t,"array")||!t.length)throw new TypeError("patterns must be a nonempty array");for(o=0;o<t.length;++o)r=t[o],u.isRegExp(r)?(n=l,i=r.xregexp&&r.xregexp.captureNames||[],A.push(u(r.source).source.replace(s,c))):A.push(u.escape(r));return u(A.join("|"),e)},u.version="2.0.0",C.exec=function(t){var e,n,r,a,s;if(this.global||(a=this.lastIndex),e=f.exec.apply(this,arguments)){if(!m&&e.length>1&&o(e,"")>-1&&(r=new RegExp(this.source,f.replace.call(i(this),"g","")),f.replace.call(String(t).slice(e.index),r,function(){var t;for(t=1;t<arguments.length-2;++t)void 0===arguments[t]&&(e[t]=void 0)})),this.xregexp&&this.xregexp.captureNames)for(s=1;s<e.length;++s)(n=this.xregexp.captureNames[s-1])&&(e[n]=e[s]);this.global&&!e[0].length&&this.lastIndex>e.index&&(this.lastIndex=e.index)}return this.global||(this.lastIndex=a),e},C.test=function(t){return!!C.exec.call(this,t)},C.match=function(t){if(u.isRegExp(t)){if(t.global){var e=f.match.apply(this,arguments);return t.lastIndex=0,e}}else t=new RegExp(t);return C.exec.call(t,this)},C.replace=function(t,e){var n,i,r,s,l=u.isRegExp(t);return l?(t.xregexp&&(n=t.xregexp.captureNames),t.global||(s=t.lastIndex)):t+="",a(e,"function")?i=f.replace.call(String(this),t,function(){var i,r=arguments;if(n)for(r[0]=new String(r[0]),i=0;i<n.length;++i)n[i]&&(r[0][n[i]]=r[i+1]);return l&&t.global&&(t.lastIndex=r[r.length-2]+r[0].length),e.apply(null,r)}):(r=String(this),i=f.replace.call(r,t,function(){var t=arguments;return f.replace.call(String(e),h,function(e,i,r){var a;if(i){if((a=+i)<=t.length-3)return t[a]||"";if((a=n?o(n,i):-1)<0)throw new SyntaxError("backreference to undefined group "+e);return t[a+1]||""}if("$"===r)return"$";if("&"===r||0==+r)return t[0];if("`"===r)return t[t.length-1].slice(0,t[t.length-2]);if("'"===r)return t[t.length-1].slice(t[t.length-2]+t[0].length);if(r=+r,!isNaN(r)){if(r>t.length-3)throw new SyntaxError("backreference to undefined group "+e);return t[r]||""}throw new SyntaxError("invalid token "+e)})})),l&&(t.global?t.lastIndex=0:t.lastIndex=s),i},C.split=function(t,e){if(!u.isRegExp(t))return f.split.apply(this,arguments);var n,i=String(this),r=t.lastIndex,o=[],a=0;return e=(void 0===e?-1:e)>>>0,u.forEach(i,t,function(t){t.index+t[0].length>a&&(o.push(i.slice(a,t.index)),t.length>1&&t.index<i.length&&Array.prototype.push.apply(o,t.slice(1)),n=t[0].length,a=t.index+n)}),a===i.length?f.test.call(t,"")&&!n||o.push(""):o.push(i.slice(a)),t.lastIndex=r,o.length>e?o.slice(0,e):o},E=F.on,E(/\\([ABCE-RTUVXYZaeg-mopqyz]|c(?![A-Za-z])|u(?![\dA-Fa-f]{4})|x(?![\dA-Fa-f]{2}))/,function(t,e){if("B"===t[1]&&"default"===e)return t[0];throw new SyntaxError("invalid escape "+t[0])},{scope:"all"}),E(/\[(\^?)]/,function(t){return t[1]?"[\\s\\S]":"\\b\\B"}),E(/(?:\(\?#[^)]*\))+/,function(t){return f.test.call(v,t.input.slice(t.index+t[0].length))?"":"(?:)"}),E(/\\k<([\w$]+)>/,function(t){var e=isNaN(t[1])?o(this.captureNames,t[1])+1:+t[1],n=t.index+t[0].length;if(!e||e>this.captureNames.length)throw new SyntaxError("backreference to undefined group "+t[0]);return"\\"+e+(n===t.input.length||isNaN(t.input.charAt(n))?"":"(?:)")}),E(/(?:\s+|#.*)+/,function(t){return f.test.call(v,t.input.slice(t.index+t[0].length))?"":"(?:)"},{trigger:function(){return this.hasFlag("x")},customFlags:"x"}),E(/\./,function(){return"[\\s\\S]"},{trigger:function(){return this.hasFlag("s")},customFlags:"s"}),E(/\(\?P?<([\w$]+)>/,function(t){if(!isNaN(t[1]))throw new SyntaxError("can't use integer as capture name "+t[0]);return this.captureNames.push(t[1]),this.hasNamedCapture=!0,"("}),E(/\\(\d+)/,function(t,e){if(!("default"===e&&/^[1-9]/.test(t[1])&&+t[1]<=this.captureNames.length)&&"0"!==t[1])throw new SyntaxError("can't use octal escape or backreference to undefined group "+t[0]);return t[0]},{scope:"all"}),E(/\((?!\?)/,function(){return this.hasFlag("n")?"(?:":(this.captureNames.push(null),"(")},{customFlags:"n"}),e.XRegExp=u,u}(),/*!
 * XRegExp Unicode Base v1.0.0
 * (c) 2008-2012 Steven Levithan <http://xregexp.com/>
 * MIT License
 * Uses Unicode 6.1 <http://unicode.org/>
 */
function(t){"use strict";function e(t){return t.replace(/[- _]+/g,"").toLowerCase()}function n(t){return t.replace(/\w{4}/g,"\\u$&")}function i(t){for(;t.length<4;)t="0"+t;return t}function r(t){return parseInt(t,16)}function o(t){return parseInt(t,10).toString(16)}function a(e){var n,a=[],s=-1;return t.forEach(e,/\\u(\w{4})(?:-\\u(\w{4}))?/,function(t){n=r(t[1]),n>s+1&&(a.push("\\u"+i(o(s+1))),n>s+2&&a.push("-\\u"+i(o(n-1)))),s=r(t[2]||t[1])}),s<65535&&(a.push("\\u"+i(o(s+1))),s<65534&&a.push("-\\uFFFF")),a.join("")}function s(t){return l["^"+t]||(l["^"+t]=a(l[t]))}var l={};t.install("extensibility"),t.addUnicodePackage=function(i,r){var o;if(!t.isInstalled("extensibility"))throw new Error("extensibility must be installed before adding Unicode packages");if(i)for(o in i)i.hasOwnProperty(o)&&(l[e(o)]=n(i[o]));if(r)for(o in r)r.hasOwnProperty(o)&&(l[e(r[o])]=l[e(o)])},t.addUnicodePackage({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05270531-055605590561-058705D0-05EA05F0-05F20620-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280840-085808A008A2-08AC0904-0939093D09500958-09610971-09770979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10CF10CF20D05-0D0C0D0E-0D100D12-0D3A0D3D0D4E0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC-0EDF0F000F40-0F470F49-0F6C0F88-0F8C1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510C710CD10D0-10FA10FC-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1BBA-1BE51C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11CF51CF61D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209C21022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2CF22CF32D00-2D252D272D2D2D30-2D672D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31BA31F0-31FF3400-4DB54E00-9FCCA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78B-A78EA790-A793A7A0-A7AAA7F8-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDAAE0-AAEAAAF2-AAF4AB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2EABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC"},{L:"Letter"}),t.addToken(/\\([pP]){(\^?)([^}]*)}/,function(t,n){var i="P"===t[1]||t[2]?"^":"",r=e(t[3]);if("P"===t[1]&&t[2])throw new SyntaxError("invalid double negation \\P{^");if(!l.hasOwnProperty(r))throw new SyntaxError("invalid or unknown Unicode property "+t[0]);return"class"===n?i?s(r):l[r]:"["+i+l[r]+"]"},{scope:"all"})}(i),/*!
 * XRegExp Unicode Categories v1.2.0
 * (c) 2010-2012 Steven Levithan <http://xregexp.com/>
 * MIT License
 * Uses Unicode 6.1 <http://unicode.org/>
 */
function(t){"use strict";if(!t.addUnicodePackage)throw new ReferenceError("Unicode Base must be loaded before Unicode Categories");t.install("extensibility"),t.addUnicodePackage({Ll:"0061-007A00B500DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F05210523052505270561-05871D00-1D2B1D6B-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7B2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2CF32D00-2D252D272D2DA641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA661A663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CA78EA791A793A7A1A7A3A7A5A7A7A7A9A7FAFB00-FB06FB13-FB17FF41-FF5A",Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E05200522052405260531-055610A0-10C510C710CD1E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CED2CF2A640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA660A662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BA78DA790A792A7A0A7A2A7A4A7A6A7A8A7AAFF21-FF3A",Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D6A1D781D9B-1DBF2071207F2090-209C2C7C2C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A7F8A7F9A9CFAA70AADDAAF3AAF4FF70FF9EFF9F",Lo:"00AA00BA01BB01C0-01C3029405D0-05EA05F0-05F20620-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150840-085808A008A2-08AC0904-0939093D09500958-09610972-09770979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10CF10CF20D05-0D0C0D0E-0D100D12-0D3A0D3D0D4E0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC-0EDF0F000F40-0F470F49-0F6C0F88-0F8C1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA10FD-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1BBA-1BE51C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF11CF51CF62135-21382D30-2D672D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31BA31F0-31FF3400-4DB54E00-9FCCA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCAAE0-AAEAAAF2AB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2EABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065F067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0859-085B08E4-08FE0900-0903093A-093C093E-094F0951-0957096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F8D-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135D-135F1712-17141732-1734175217531772177317B4-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAD1BE6-1BF31C24-1C371CD0-1CD21CD4-1CE81CED1CF2-1CF41DC0-1DE61DFC-1DFF20D0-20F02CEF-2CF12D7F2DE0-2DFF302A-302F3099309AA66F-A672A674-A67DA69FA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1AAEB-AAEFAAF5AAF6ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065F067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0859-085B08E4-08FE0900-0902093A093C0941-0948094D0951-095709620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F8D-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135D-135F1712-17141732-1734175217531772177317B417B517B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91BAB1BE61BE81BE91BED1BEF-1BF11C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1CF41DC0-1DE61DFC-1DFF20D0-20DC20E120E5-20F02CEF-2CF12D7F2DE0-2DFF302A-302D3099309AA66FA674-A67DA69FA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1AAECAAEDAAF6ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",Mc:"0903093B093E-09400949-094C094E094F0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1BAC1BAD1BE71BEA-1BEC1BEE1BF21BF31C24-1C2B1C341C351CE11CF21CF3302E302FA823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BAAEBAAEEAAEFAAF5ABE3ABE4ABE6ABE7ABE9ABEAABEC",Me:"0488048920DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0B72-0B770BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293248-324F3251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19D91A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90B72-0B770BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F919DA20702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293248-324F3251-325F3280-328932B1-32BFA830-A835",P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100A700AB00B600B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E085E0964096509700AF00DF40E4F0E5A0E5B0F04-0F120F140F3A-0F3D0F850FD0-0FD40FD90FDA104A-104F10FB1360-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A194419451A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601BFC-1BFF1C3B-1C3F1C7E1C7F1CC0-1CC71CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2D702E00-2E2E2E30-2E3B3001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFAAF0AAF1ABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",Pd:"002D058A05BE140018062010-20152E172E1A2E3A2E3B301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100A700B600B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E085E0964096509700AF00DF40E4F0E5A0E5B0F04-0F120F140F850FD0-0FD40FD90FDA104A-104F10FB1360-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A194419451A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601BFC-1BFF1C3B-1C3F1C7E1C7F1CC0-1CC71CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2D702E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E30-2E393001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFAAF0AAF1ABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",S:"0024002B003C-003E005E0060007C007E00A2-00A600A800A900AC00AE-00B100B400B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F60482058F0606-0608060B060E060F06DE06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0D790E3F0F01-0F030F130F15-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F1390-139917DB194019DE-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B9210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23F32400-24262440-244A249C-24E92500-26FF2701-27672794-27C427C7-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-324732503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FBB2-FBC1FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C21182140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5058F060B09F209F309FB0AF10BF90E3F17DB20A0-20B9A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFBB2-FBC1FF3EFF40FFE3",So:"00A600A900AE00B00482060E060F06DE06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0D790F01-0F030F130F15-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F1390-1399194019DE-19FF1B61-1B6A1B74-1B7C210021012103-210621082109211421162117211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23F32400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26FF2701-27672794-27BF2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-324732503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20528-05300557055805600588058B-058E059005C8-05CF05EB-05EF05F5-0605061C061D06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F085C085D085F-089F08A108AD-08E308FF097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B78-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D3B0D3C0D450D490D4F-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EE0-0EFF0F480F6D-0F700F980FBD0FCD0FDB-0FFF10C610C8-10CC10CE10CF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B135C137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BF4-1BFB1C38-1C3A1C4A-1C4C1C80-1CBF1CC8-1CCF1CF7-1CFF1DE7-1DFB1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F209D-209F20BA-20CF20F1-20FF218A-218F23F4-23FF2427-243F244B-245F27002B4D-2B4F2B5A-2BFF2C2F2C5F2CF4-2CF82D262D28-2D2C2D2E2D2F2D68-2D6E2D71-2D7E2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E3C-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31BB-31BF31E4-31EF321F32FF4DB6-4DBF9FCD-9FFFA48D-A48FA4C7-A4CFA62C-A63FA698-A69EA6F8-A6FFA78FA794-A79FA7AB-A7F7A82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAF7-AB00AB07AB08AB0FAB10AB17-AB1FAB27AB2F-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBC2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",Cc:"0000-001F007F-009F",Cf:"00AD0600-060406DD070F200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20528-05300557055805600588058B-058E059005C8-05CF05EB-05EF05F5-05FF0605061C061D070E074B074C07B2-07BF07FB-07FF082E082F083F085C085D085F-089F08A108AD-08E308FF097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B78-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D3B0D3C0D450D490D4F-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EE0-0EFF0F480F6D-0F700F980FBD0FCD0FDB-0FFF10C610C8-10CC10CE10CF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B135C137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BF4-1BFB1C38-1C3A1C4A-1C4C1C80-1CBF1CC8-1CCF1CF7-1CFF1DE7-1DFB1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F209D-209F20BA-20CF20F1-20FF218A-218F23F4-23FF2427-243F244B-245F27002B4D-2B4F2B5A-2BFF2C2F2C5F2CF4-2CF82D262D28-2D2C2D2E2D2F2D68-2D6E2D71-2D7E2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E3C-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31BB-31BF31E4-31EF321F32FF4DB6-4DBF9FCD-9FFFA48D-A48FA4C7-A4CFA62C-A63FA698-A69EA6F8-A6FFA78FA794-A79FA7AB-A7F7A82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAF7-AB00AB07AB08AB0FAB10AB17-AB1FAB27AB2F-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBC2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"},{Ll:"Lowercase_Letter",Lu:"Uppercase_Letter",Lt:"Titlecase_Letter",Lm:"Modifier_Letter",Lo:"Other_Letter",M:"Mark",Mn:"Nonspacing_Mark",Mc:"Spacing_Mark",Me:"Enclosing_Mark",N:"Number",Nd:"Decimal_Number",Nl:"Letter_Number",No:"Other_Number",P:"Punctuation",Pd:"Dash_Punctuation",Ps:"Open_Punctuation",Pe:"Close_Punctuation",Pi:"Initial_Punctuation",Pf:"Final_Punctuation",Pc:"Connector_Punctuation",Po:"Other_Punctuation",S:"Symbol",Sm:"Math_Symbol",Sc:"Currency_Symbol",Sk:"Modifier_Symbol",So:"Other_Symbol",Z:"Separator",Zs:"Space_Separator",Zl:"Line_Separator",Zp:"Paragraph_Separator",C:"Other",Cc:"Control",Cf:"Format",Co:"Private_Use",Cs:"Surrogate",Cn:"Unassigned"})}(i),/*!
 * XRegExp Unicode Scripts v1.2.0
 * (c) 2010-2012 Steven Levithan <http://xregexp.com/>
 * MIT License
 * Uses Unicode 6.1 <http://unicode.org/>
 */
function(t){"use strict";if(!t.addUnicodePackage)throw new ReferenceError("Unicode Base must be loaded before Unicode Scripts");t.install("extensibility"),t.addUnicodePackage({Arabic:"0600-06040606-060B060D-061A061E0620-063F0641-064A0656-065E066A-066F0671-06DC06DE-06FF0750-077F08A008A2-08AC08E4-08FEFB50-FBC1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFCFE70-FE74FE76-FEFC",Armenian:"0531-05560559-055F0561-0587058A058FFB13-FB17",Balinese:"1B00-1B4B1B50-1B7C",Bamum:"A6A0-A6F7",Batak:"1BC0-1BF31BFC-1BFF",Bengali:"0981-09830985-098C098F09900993-09A809AA-09B009B209B6-09B909BC-09C409C709C809CB-09CE09D709DC09DD09DF-09E309E6-09FB",Bopomofo:"02EA02EB3105-312D31A0-31BA",Braille:"2800-28FF",Buginese:"1A00-1A1B1A1E1A1F",Buhid:"1740-1753",Canadian_Aboriginal:"1400-167F18B0-18F5",Cham:"AA00-AA36AA40-AA4DAA50-AA59AA5C-AA5F",Cherokee:"13A0-13F4",Common:"0000-0040005B-0060007B-00A900AB-00B900BB-00BF00D700F702B9-02DF02E5-02E902EC-02FF0374037E038503870589060C061B061F06400660-066906DD096409650E3F0FD5-0FD810FB16EB-16ED173517361802180318051CD31CE11CE9-1CEC1CEE-1CF31CF51CF62000-200B200E-2064206A-20702074-207E2080-208E20A0-20B92100-21252127-2129212C-21312133-214D214F-215F21892190-23F32400-24262440-244A2460-26FF2701-27FF2900-2B4C2B50-2B592E00-2E3B2FF0-2FFB3000-300430063008-30203030-3037303C-303F309B309C30A030FB30FC3190-319F31C0-31E33220-325F327F-32CF3358-33FF4DC0-4DFFA700-A721A788-A78AA830-A839FD3EFD3FFDFDFE10-FE19FE30-FE52FE54-FE66FE68-FE6BFEFFFF01-FF20FF3B-FF40FF5B-FF65FF70FF9EFF9FFFE0-FFE6FFE8-FFEEFFF9-FFFD",Coptic:"03E2-03EF2C80-2CF32CF9-2CFF",Cyrillic:"0400-04840487-05271D2B1D782DE0-2DFFA640-A697A69F",Devanagari:"0900-09500953-09630966-09770979-097FA8E0-A8FB",Ethiopic:"1200-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A135D-137C1380-13992D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDEAB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2E",Georgian:"10A0-10C510C710CD10D0-10FA10FC-10FF2D00-2D252D272D2D",Glagolitic:"2C00-2C2E2C30-2C5E",Greek:"0370-03730375-0377037A-037D038403860388-038A038C038E-03A103A3-03E103F0-03FF1D26-1D2A1D5D-1D611D66-1D6A1DBF1F00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FC41FC6-1FD31FD6-1FDB1FDD-1FEF1FF2-1FF41FF6-1FFE2126",Gujarati:"0A81-0A830A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABC-0AC50AC7-0AC90ACB-0ACD0AD00AE0-0AE30AE6-0AF1",Gurmukhi:"0A01-0A030A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A3C0A3E-0A420A470A480A4B-0A4D0A510A59-0A5C0A5E0A66-0A75",Han:"2E80-2E992E9B-2EF32F00-2FD5300530073021-30293038-303B3400-4DB54E00-9FCCF900-FA6DFA70-FAD9",Hangul:"1100-11FF302E302F3131-318E3200-321E3260-327EA960-A97CAC00-D7A3D7B0-D7C6D7CB-D7FBFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Hanunoo:"1720-1734",Hebrew:"0591-05C705D0-05EA05F0-05F4FB1D-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FB4F",Hiragana:"3041-3096309D-309F",Inherited:"0300-036F04850486064B-0655065F0670095109521CD0-1CD21CD4-1CE01CE2-1CE81CED1CF41DC0-1DE61DFC-1DFF200C200D20D0-20F0302A-302D3099309AFE00-FE0FFE20-FE26",Javanese:"A980-A9CDA9CF-A9D9A9DEA9DF",Kannada:"0C820C830C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBC-0CC40CC6-0CC80CCA-0CCD0CD50CD60CDE0CE0-0CE30CE6-0CEF0CF10CF2",Katakana:"30A1-30FA30FD-30FF31F0-31FF32D0-32FE3300-3357FF66-FF6FFF71-FF9D",Kayah_Li:"A900-A92F",Khmer:"1780-17DD17E0-17E917F0-17F919E0-19FF",Lao:"0E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB90EBB-0EBD0EC0-0EC40EC60EC8-0ECD0ED0-0ED90EDC-0EDF",Latin:"0041-005A0061-007A00AA00BA00C0-00D600D8-00F600F8-02B802E0-02E41D00-1D251D2C-1D5C1D62-1D651D6B-1D771D79-1DBE1E00-1EFF2071207F2090-209C212A212B2132214E2160-21882C60-2C7FA722-A787A78B-A78EA790-A793A7A0-A7AAA7F8-A7FFFB00-FB06FF21-FF3AFF41-FF5A",Lepcha:"1C00-1C371C3B-1C491C4D-1C4F",Limbu:"1900-191C1920-192B1930-193B19401944-194F",Lisu:"A4D0-A4FF",Malayalam:"0D020D030D05-0D0C0D0E-0D100D12-0D3A0D3D-0D440D46-0D480D4A-0D4E0D570D60-0D630D66-0D750D79-0D7F",Mandaic:"0840-085B085E",Meetei_Mayek:"AAE0-AAF6ABC0-ABEDABF0-ABF9",Mongolian:"1800180118041806-180E1810-18191820-18771880-18AA",Myanmar:"1000-109FAA60-AA7B",New_Tai_Lue:"1980-19AB19B0-19C919D0-19DA19DE19DF",Nko:"07C0-07FA",Ogham:"1680-169C",Ol_Chiki:"1C50-1C7F",Oriya:"0B01-0B030B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3C-0B440B470B480B4B-0B4D0B560B570B5C0B5D0B5F-0B630B66-0B77",Phags_Pa:"A840-A877",Rejang:"A930-A953A95F",Runic:"16A0-16EA16EE-16F0",Samaritan:"0800-082D0830-083E",Saurashtra:"A880-A8C4A8CE-A8D9",Sinhala:"0D820D830D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60DCA0DCF-0DD40DD60DD8-0DDF0DF2-0DF4",Sundanese:"1B80-1BBF1CC0-1CC7",Syloti_Nagri:"A800-A82B",Syriac:"0700-070D070F-074A074D-074F",Tagalog:"1700-170C170E-1714",Tagbanwa:"1760-176C176E-177017721773",Tai_Le:"1950-196D1970-1974",Tai_Tham:"1A20-1A5E1A60-1A7C1A7F-1A891A90-1A991AA0-1AAD",Tai_Viet:"AA80-AAC2AADB-AADF",Tamil:"0B820B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BBE-0BC20BC6-0BC80BCA-0BCD0BD00BD70BE6-0BFA",Telugu:"0C01-0C030C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D-0C440C46-0C480C4A-0C4D0C550C560C580C590C60-0C630C66-0C6F0C78-0C7F",Thaana:"0780-07B1",Thai:"0E01-0E3A0E40-0E5B",Tibetan:"0F00-0F470F49-0F6C0F71-0F970F99-0FBC0FBE-0FCC0FCE-0FD40FD90FDA",Tifinagh:"2D30-2D672D6F2D702D7F",Vai:"A500-A62B",Yi:"A000-A48CA490-A4C6"})}(i),/*!
 * XRegExp Unicode Blocks v1.2.0
 * (c) 2010-2012 Steven Levithan <http://xregexp.com/>
 * MIT License
 * Uses Unicode 6.1 <http://unicode.org/>
 */
function(t){"use strict";if(!t.addUnicodePackage)throw new ReferenceError("Unicode Base must be loaded before Unicode Blocks");t.install("extensibility"),t.addUnicodePackage({InBasic_Latin:"0000-007F",InLatin_1_Supplement:"0080-00FF",InLatin_Extended_A:"0100-017F",InLatin_Extended_B:"0180-024F",InIPA_Extensions:"0250-02AF",InSpacing_Modifier_Letters:"02B0-02FF",InCombining_Diacritical_Marks:"0300-036F",InGreek_and_Coptic:"0370-03FF",InCyrillic:"0400-04FF",InCyrillic_Supplement:"0500-052F",InArmenian:"0530-058F",InHebrew:"0590-05FF",InArabic:"0600-06FF",InSyriac:"0700-074F",InArabic_Supplement:"0750-077F",InThaana:"0780-07BF",InNKo:"07C0-07FF",InSamaritan:"0800-083F",InMandaic:"0840-085F",InArabic_Extended_A:"08A0-08FF",InDevanagari:"0900-097F",InBengali:"0980-09FF",InGurmukhi:"0A00-0A7F",InGujarati:"0A80-0AFF",InOriya:"0B00-0B7F",InTamil:"0B80-0BFF",InTelugu:"0C00-0C7F",InKannada:"0C80-0CFF",InMalayalam:"0D00-0D7F",InSinhala:"0D80-0DFF",InThai:"0E00-0E7F",InLao:"0E80-0EFF",InTibetan:"0F00-0FFF",InMyanmar:"1000-109F",InGeorgian:"10A0-10FF",InHangul_Jamo:"1100-11FF",InEthiopic:"1200-137F",InEthiopic_Supplement:"1380-139F",InCherokee:"13A0-13FF",InUnified_Canadian_Aboriginal_Syllabics:"1400-167F",InOgham:"1680-169F",InRunic:"16A0-16FF",InTagalog:"1700-171F",InHanunoo:"1720-173F",InBuhid:"1740-175F",InTagbanwa:"1760-177F",InKhmer:"1780-17FF",InMongolian:"1800-18AF",InUnified_Canadian_Aboriginal_Syllabics_Extended:"18B0-18FF",InLimbu:"1900-194F",InTai_Le:"1950-197F",InNew_Tai_Lue:"1980-19DF",InKhmer_Symbols:"19E0-19FF",InBuginese:"1A00-1A1F",InTai_Tham:"1A20-1AAF",InBalinese:"1B00-1B7F",InSundanese:"1B80-1BBF",InBatak:"1BC0-1BFF",InLepcha:"1C00-1C4F",InOl_Chiki:"1C50-1C7F",InSundanese_Supplement:"1CC0-1CCF",InVedic_Extensions:"1CD0-1CFF",InPhonetic_Extensions:"1D00-1D7F",InPhonetic_Extensions_Supplement:"1D80-1DBF",InCombining_Diacritical_Marks_Supplement:"1DC0-1DFF",InLatin_Extended_Additional:"1E00-1EFF",InGreek_Extended:"1F00-1FFF",InGeneral_Punctuation:"2000-206F",InSuperscripts_and_Subscripts:"2070-209F",InCurrency_Symbols:"20A0-20CF",InCombining_Diacritical_Marks_for_Symbols:"20D0-20FF",InLetterlike_Symbols:"2100-214F",InNumber_Forms:"2150-218F",InArrows:"2190-21FF",InMathematical_Operators:"2200-22FF",InMiscellaneous_Technical:"2300-23FF",InControl_Pictures:"2400-243F",InOptical_Character_Recognition:"2440-245F",InEnclosed_Alphanumerics:"2460-24FF",InBox_Drawing:"2500-257F",InBlock_Elements:"2580-259F",InGeometric_Shapes:"25A0-25FF",InMiscellaneous_Symbols:"2600-26FF",InDingbats:"2700-27BF",InMiscellaneous_Mathematical_Symbols_A:"27C0-27EF",InSupplemental_Arrows_A:"27F0-27FF",InBraille_Patterns:"2800-28FF",InSupplemental_Arrows_B:"2900-297F",InMiscellaneous_Mathematical_Symbols_B:"2980-29FF",InSupplemental_Mathematical_Operators:"2A00-2AFF",InMiscellaneous_Symbols_and_Arrows:"2B00-2BFF",InGlagolitic:"2C00-2C5F",InLatin_Extended_C:"2C60-2C7F",InCoptic:"2C80-2CFF",InGeorgian_Supplement:"2D00-2D2F",InTifinagh:"2D30-2D7F",InEthiopic_Extended:"2D80-2DDF",InCyrillic_Extended_A:"2DE0-2DFF",InSupplemental_Punctuation:"2E00-2E7F",InCJK_Radicals_Supplement:"2E80-2EFF",InKangxi_Radicals:"2F00-2FDF",InIdeographic_Description_Characters:"2FF0-2FFF",InCJK_Symbols_and_Punctuation:"3000-303F",InHiragana:"3040-309F",InKatakana:"30A0-30FF",InBopomofo:"3100-312F",InHangul_Compatibility_Jamo:"3130-318F",InKanbun:"3190-319F",InBopomofo_Extended:"31A0-31BF",InCJK_Strokes:"31C0-31EF",InKatakana_Phonetic_Extensions:"31F0-31FF",InEnclosed_CJK_Letters_and_Months:"3200-32FF",InCJK_Compatibility:"3300-33FF",InCJK_Unified_Ideographs_Extension_A:"3400-4DBF",InYijing_Hexagram_Symbols:"4DC0-4DFF",InCJK_Unified_Ideographs:"4E00-9FFF",InYi_Syllables:"A000-A48F",InYi_Radicals:"A490-A4CF",InLisu:"A4D0-A4FF",InVai:"A500-A63F",InCyrillic_Extended_B:"A640-A69F",InBamum:"A6A0-A6FF",InModifier_Tone_Letters:"A700-A71F",InLatin_Extended_D:"A720-A7FF",InSyloti_Nagri:"A800-A82F",InCommon_Indic_Number_Forms:"A830-A83F",InPhags_pa:"A840-A87F",InSaurashtra:"A880-A8DF",InDevanagari_Extended:"A8E0-A8FF",InKayah_Li:"A900-A92F",InRejang:"A930-A95F",InHangul_Jamo_Extended_A:"A960-A97F",InJavanese:"A980-A9DF",InCham:"AA00-AA5F",InMyanmar_Extended_A:"AA60-AA7F",InTai_Viet:"AA80-AADF",InMeetei_Mayek_Extensions:"AAE0-AAFF",InEthiopic_Extended_A:"AB00-AB2F",InMeetei_Mayek:"ABC0-ABFF",InHangul_Syllables:"AC00-D7AF",InHangul_Jamo_Extended_B:"D7B0-D7FF",InHigh_Surrogates:"D800-DB7F",InHigh_Private_Use_Surrogates:"DB80-DBFF",InLow_Surrogates:"DC00-DFFF",InPrivate_Use_Area:"E000-F8FF",InCJK_Compatibility_Ideographs:"F900-FAFF",InAlphabetic_Presentation_Forms:"FB00-FB4F",InArabic_Presentation_Forms_A:"FB50-FDFF",InVariation_Selectors:"FE00-FE0F",InVertical_Forms:"FE10-FE1F",InCombining_Half_Marks:"FE20-FE2F",InCJK_Compatibility_Forms:"FE30-FE4F",InSmall_Form_Variants:"FE50-FE6F",InArabic_Presentation_Forms_B:"FE70-FEFF",InHalfwidth_and_Fullwidth_Forms:"FF00-FFEF",InSpecials:"FFF0-FFFF"})}(i),/*!
 * XRegExp Unicode Properties v1.0.0
 * (c) 2012 Steven Levithan <http://xregexp.com/>
 * MIT License
 * Uses Unicode 6.1 <http://unicode.org/>
 */
function(t){"use strict";if(!t.addUnicodePackage)throw new ReferenceError("Unicode Base must be loaded before Unicode Properties");t.install("extensibility"),t.addUnicodePackage({Alphabetic:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE03450370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05270531-055605590561-058705B0-05BD05BF05C105C205C405C505C705D0-05EA05F0-05F20610-061A0620-06570659-065F066E-06D306D5-06DC06E1-06E806ED-06EF06FA-06FC06FF0710-073F074D-07B107CA-07EA07F407F507FA0800-0817081A-082C0840-085808A008A2-08AC08E4-08E908F0-08FE0900-093B093D-094C094E-09500955-09630971-09770979-097F0981-09830985-098C098F09900993-09A809AA-09B009B209B6-09B909BD-09C409C709C809CB09CC09CE09D709DC09DD09DF-09E309F009F10A01-0A030A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A3E-0A420A470A480A4B0A4C0A510A59-0A5C0A5E0A70-0A750A81-0A830A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD-0AC50AC7-0AC90ACB0ACC0AD00AE0-0AE30B01-0B030B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D-0B440B470B480B4B0B4C0B560B570B5C0B5D0B5F-0B630B710B820B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BBE-0BC20BC6-0BC80BCA-0BCC0BD00BD70C01-0C030C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D-0C440C46-0C480C4A-0C4C0C550C560C580C590C60-0C630C820C830C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD-0CC40CC6-0CC80CCA-0CCC0CD50CD60CDE0CE0-0CE30CF10CF20D020D030D05-0D0C0D0E-0D100D12-0D3A0D3D-0D440D46-0D480D4A-0D4C0D4E0D570D60-0D630D7A-0D7F0D820D830D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60DCF-0DD40DD60DD8-0DDF0DF20DF30E01-0E3A0E40-0E460E4D0E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB90EBB-0EBD0EC0-0EC40EC60ECD0EDC-0EDF0F000F40-0F470F49-0F6C0F71-0F810F88-0F970F99-0FBC1000-10361038103B-103F1050-10621065-1068106E-1086108E109C109D10A0-10C510C710CD10D0-10FA10FC-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A135F1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA16EE-16F01700-170C170E-17131720-17331740-17531760-176C176E-1770177217731780-17B317B6-17C817D717DC1820-18771880-18AA18B0-18F51900-191C1920-192B1930-19381950-196D1970-19741980-19AB19B0-19C91A00-1A1B1A20-1A5E1A61-1A741AA71B00-1B331B35-1B431B45-1B4B1B80-1BA91BAC-1BAF1BBA-1BE51BE7-1BF11C00-1C351C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF31CF51CF61D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209C21022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E2160-218824B6-24E92C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2CF22CF32D00-2D252D272D2D2D30-2D672D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2DE0-2DFF2E2F3005-30073021-30293031-30353038-303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31BA31F0-31FF3400-4DB54E00-9FCCA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A66EA674-A67BA67F-A697A69F-A6EFA717-A71FA722-A788A78B-A78EA790-A793A7A0-A7AAA7F8-A801A803-A805A807-A80AA80C-A827A840-A873A880-A8C3A8F2-A8F7A8FBA90A-A92AA930-A952A960-A97CA980-A9B2A9B4-A9BFA9CFAA00-AA36AA40-AA4DAA60-AA76AA7AAA80-AABEAAC0AAC2AADB-AADDAAE0-AAEFAAF2-AAF5AB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2EABC0-ABEAAC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1D-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Uppercase:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E05200522052405260531-055610A0-10C510C710CD1E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F21452160-216F218324B6-24CF2C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CED2CF2A640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA660A662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BA78DA790A792A7A0A7A2A7A4A7A6A7A8A7AAFF21-FF3A",Lowercase:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02B802C002C102E0-02E40345037103730377037A-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F05210523052505270561-05871D00-1DBF1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF72071207F2090-209C210A210E210F2113212F21342139213C213D2146-2149214E2170-217F218424D0-24E92C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7D2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2CF32D00-2D252D272D2DA641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA661A663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76F-A778A77AA77CA77FA781A783A785A787A78CA78EA791A793A7A1A7A3A7A5A7A7A7A9A7F8-A7FAFB00-FB06FB13-FB17FF41-FF5A",White_Space:"0009-000D0020008500A01680180E2000-200A20282029202F205F3000",Noncharacter_Code_Point:"FDD0-FDEFFFFEFFFF",Default_Ignorable_Code_Point:"00AD034F115F116017B417B5180B-180D200B-200F202A-202E2060-206F3164FE00-FE0FFEFFFFA0FFF0-FFF8",Any:"0000-FFFF",Ascii:"0000-007F",Assigned:"0000-0377037A-037E0384-038A038C038E-03A103A3-05270531-05560559-055F0561-05870589058A058F0591-05C705D0-05EA05F0-05F40600-06040606-061B061E-070D070F-074A074D-07B107C0-07FA0800-082D0830-083E0840-085B085E08A008A2-08AC08E4-08FE0900-09770979-097F0981-09830985-098C098F09900993-09A809AA-09B009B209B6-09B909BC-09C409C709C809CB-09CE09D709DC09DD09DF-09E309E6-09FB0A01-0A030A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A3C0A3E-0A420A470A480A4B-0A4D0A510A59-0A5C0A5E0A66-0A750A81-0A830A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABC-0AC50AC7-0AC90ACB-0ACD0AD00AE0-0AE30AE6-0AF10B01-0B030B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3C-0B440B470B480B4B-0B4D0B560B570B5C0B5D0B5F-0B630B66-0B770B820B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BBE-0BC20BC6-0BC80BCA-0BCD0BD00BD70BE6-0BFA0C01-0C030C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D-0C440C46-0C480C4A-0C4D0C550C560C580C590C60-0C630C66-0C6F0C78-0C7F0C820C830C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBC-0CC40CC6-0CC80CCA-0CCD0CD50CD60CDE0CE0-0CE30CE6-0CEF0CF10CF20D020D030D05-0D0C0D0E-0D100D12-0D3A0D3D-0D440D46-0D480D4A-0D4E0D570D60-0D630D66-0D750D79-0D7F0D820D830D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60DCA0DCF-0DD40DD60DD8-0DDF0DF2-0DF40E01-0E3A0E3F-0E5B0E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB90EBB-0EBD0EC0-0EC40EC60EC8-0ECD0ED0-0ED90EDC-0EDF0F00-0F470F49-0F6C0F71-0F970F99-0FBC0FBE-0FCC0FCE-0FDA1000-10C510C710CD10D0-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A135D-137C1380-139913A0-13F41400-169C16A0-16F01700-170C170E-17141720-17361740-17531760-176C176E-1770177217731780-17DD17E0-17E917F0-17F91800-180E1810-18191820-18771880-18AA18B0-18F51900-191C1920-192B1930-193B19401944-196D1970-19741980-19AB19B0-19C919D0-19DA19DE-1A1B1A1E-1A5E1A60-1A7C1A7F-1A891A90-1A991AA0-1AAD1B00-1B4B1B50-1B7C1B80-1BF31BFC-1C371C3B-1C491C4D-1C7F1CC0-1CC71CD0-1CF61D00-1DE61DFC-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FC41FC6-1FD31FD6-1FDB1FDD-1FEF1FF2-1FF41FF6-1FFE2000-2064206A-20712074-208E2090-209C20A0-20B920D0-20F02100-21892190-23F32400-24262440-244A2460-26FF2701-2B4C2B50-2B592C00-2C2E2C30-2C5E2C60-2CF32CF9-2D252D272D2D2D30-2D672D6F2D702D7F-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2DE0-2E3B2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB3000-303F3041-30963099-30FF3105-312D3131-318E3190-31BA31C0-31E331F0-321E3220-32FE3300-4DB54DC0-9FCCA000-A48CA490-A4C6A4D0-A62BA640-A697A69F-A6F7A700-A78EA790-A793A7A0-A7AAA7F8-A82BA830-A839A840-A877A880-A8C4A8CE-A8D9A8E0-A8FBA900-A953A95F-A97CA980-A9CDA9CF-A9D9A9DEA9DFAA00-AA36AA40-AA4DAA50-AA59AA5C-AA7BAA80-AAC2AADB-AAF6AB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2EABC0-ABEDABF0-ABF9AC00-D7A3D7B0-D7C6D7CB-D7FBD800-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1D-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBC1FBD3-FD3FFD50-FD8FFD92-FDC7FDF0-FDFDFE00-FE19FE20-FE26FE30-FE52FE54-FE66FE68-FE6BFE70-FE74FE76-FEFCFEFFFF01-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDCFFE0-FFE6FFE8-FFEEFFF9-FFFD"})}(i),/*!
 * XRegExp.matchRecursive v0.2.0
 * (c) 2009-2012 Steven Levithan <http://xregexp.com/>
 * MIT License
 */
function(t){"use strict";function e(t,e,n,i){return{value:t,name:e,start:n,end:i}}t.matchRecursive=function(n,i,r,o,a){o=o||"",a=a||{};var s,l,c,A,u,F=o.indexOf("g")>-1,E=o.indexOf("y")>-1,d=o.replace(/y/g,""),f=a.escapeChar,C=a.valueNames,p=[],D=0,B=0,h=0,g=0;if(i=t(i,d),r=t(r,d),f){if(f.length>1)throw new SyntaxError("can't use more than one escape character");f=t.escape(f),u=new RegExp("(?:"+f+"[\\S\\s]|(?:(?!"+t.union([i,r]).source+")[^"+f+"])+)+",o.replace(/[^im]+/g,""))}for(;;){if(f&&(h+=(t.exec(n,u,h,"sticky")||[""])[0].length),c=t.exec(n,i,h),A=t.exec(n,r,h),c&&A&&(c.index<=A.index?A=null:c=null),c||A)B=(c||A).index,h=B+(c||A)[0].length;else if(!D)break;if(E&&!D&&B>g)break;if(c)D||(s=B,l=h),++D;else{if(!A||!D)throw new Error("string contains unbalanced delimiters");if(!--D&&(C?(C[0]&&s>g&&p.push(e(C[0],n.slice(g,s),g,s)),C[1]&&p.push(e(C[1],n.slice(s,l),s,l)),C[2]&&p.push(e(C[2],n.slice(l,B),l,B)),C[3]&&p.push(e(C[3],n.slice(B,h),B,h))):p.push(n.slice(l,B)),g=h,!F))break}B===h&&++h}return F&&!E&&C&&C[0]&&n.length>g&&p.push(e(C[0],n.slice(g),g,n.length)),p}}(i),/*!
 * XRegExp.build v0.1.0
 * (c) 2012 Steven Levithan <http://xregexp.com/>
 * MIT License
 * Inspired by RegExp.create by Lea Verou <http://lea.verou.me/>
 */
function(t){"use strict";function e(t){var e=/^(?:\(\?:\))?\^/,n=/\$(?:\(\?:\))?$/;return n.test(t.replace(/\\[\s\S]/g,""))?t.replace(e,"").replace(n,""):t}function n(e){return t.isRegExp(e)?e.xregexp&&!e.xregexp.isNative?e:t(e.source):t(e)}var i=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*]/g,r=t.union([/\({{([\w$]+)}}\)|{{([\w$]+)}}/,i],"g");t.build=function(o,a,s){var l,c,A,u,F=/^\(\?([\w$]+)\)/.exec(o),E={},d=0,f=0,C=[0];F&&(s=s||"",F[1].replace(/./g,function(t){s+=s.indexOf(t)>-1?"":t}));for(u in a)a.hasOwnProperty(u)&&(A=n(a[u]),E[u]={pattern:e(A.source),names:A.xregexp.captureNames||[]});return o=n(o),c=o.xregexp.captureNames||[],o=o.source.replace(r,function(t,e,n,r,o){var a,s,A=e||n;if(A){if(!E.hasOwnProperty(A))throw new ReferenceError("undefined property "+t);return e?(a=c[f],C[++f]=++d,s="(?<"+(a||A)+">"):s="(?:",l=d,s+E[A].pattern.replace(i,function(t,e,n){if(e){if(a=E[A].names[d-l],++d,a)return"(?<"+a+">"}else if(n)return"\\"+(+n+l);return t})+")"}if(r){if(a=c[f],C[++f]=++d,a)return"(?<"+a+">"}else if(o)return"\\"+C[+o];return t}),t(o,s)}}(i),/*!
 * XRegExp Prototype Methods v1.0.0
 * (c) 2012 Steven Levithan <http://xregexp.com/>
 * MIT License
 */
function(t){"use strict";!function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}(t.prototype,{apply:function(t,e){return this.test(e[0])},call:function(t,e){return this.test(e)},forEach:function(e,n,i){return t.forEach(e,this,n,i)},globalize:function(){return t.globalize(this)},xexec:function(e,n,i){return t.exec(e,this,n,i)},xtest:function(e,n,i){return t.test(e,this,n,i)}})}(i)},,,,,,,,,,,,,,,function(t,e,n){function i(t){return n(r(t))}function r(t){var e=o[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var o={"./app.js":165,"./controllers/list.js":226};i.keys=function(){return Object.keys(o)},i.resolve=r,t.exports=i,i.id=225},function(t,e,n){function i(t,e,n,i,s,l,c,A,u,F,E,d,f,C,p){function D(n){u.listenForMessages(function(i,r){switch(i.message){case a.MESSAGE_GET_ARTICLES:r(m.articlesList);break;case a.MESSAGE_IMPROVE_ARTICLE:var s=i.data.article,l=i.data.index;if(!s.gsid)return r(null);var c=s.gsid.split(":")[0];return c?t.getMetadataFromRefman(c,l).then(function(t){r(t)}):r(null);case a.MESSAGE_UPDATE_ARTICLE:var A=o.get(i,"data.updateDetails",{}),l=o.get(i,"data.index",null);o.isNull(l)||o.isEmpty(A)||(o.extend(m.articlesList[l],A),e.$apply()),r(!0);break;case a.MESSAGE_GET_ARTICLE_IDENTIFIERS:var s=m.articlesList[i.index];g(s,l).then(function(){r(o.pick(s,["pmid","doi","gsid","pdfUrl"]))}).catch(function(){r({})}),n.getIdentifiersFromAllVersions(i.index).then(function(t){o.extend(m.articlesList[i.index],t),r(t)}).catch(function(t){r({})});break;case a.MESSAGE_SELECT_ALL_SHOW:r(!0);break;case a.MESSAGE_SHOW_LOGIN:m.loginIframe.show=!0,m.queuedArticleIndexes=o.get(i,"data.queuedArticleIndexes",[]),e.$apply(),r(!0);break;default:r(null)}return!0})}function B(t){var e=m.articlesList[t];if(e.isProcessingStatus())return!1;p.trackEvent(a.MIXPANEL_EVENT_INJECTED_BUTTON_ADD_TO_LIBRARY_CLICKED),e.inLibraryStatus=a.STATUS_METADATA_ADDING,E.when(g(e,t)).then(function(){return h(e,t)}).then(function(n){return n.articleIdLookup?m.addArticleFromPDF(e,t,n.articleIdLookup):m.addArticleFromPDF(e,t)}).finally(function(){m.updateStatusForArticle(e).then(function(){m.finishArticleStatus(e).then(function(){chrome.runtime.sendMessage({message:a.MESSAGE_UPDATE_POPUP_ARTICLE_FROM_CONTENT_SCRIPT,data:{index:t,updateDetails:{id:e.id,inLibraryStatus:e.inLibraryStatus}}})})})})}function h(e,n){return E.when(function(){if(e.doi||e.pmid)return!0;var i=e.gsid.split(":")[0];return t.getMetadataFromRefman(i,n).then(function(t){e.metadata=t})}()).then(function(){return m.addArticleFromMetadata(e,n)})}function g(e,n){return E.when(function(){return e.pmid||e.doi?e:t.getIdentifiersFromAllVersions(n).then(function(t){o.extend(e,t)})}()).then(function(){return!!e.pdfUrl||A.metadata({ext_ids:[{pmid:e.pmid,doi:e.doi}]}).then(function(t){var n=o.get(t,"data[0].pdf_urls[0]",null);return e.pdfUrl=n||e.parsedPdfUrl,!0})}).catch(function(){return e.parsedPdfUrl&&(e.pdfUrl=e.parsedPdfUrl),e})}function v(t){var e=this,n=e.articlesList[t];return!n.isProcessingStatus()&&E.when(g(n,t)).then(function(){return e.addArticleFromPDF(n,t)}).finally(function(){e.finishArticleStatus(n)})}var m=this;r.extend(m,i("GeneralList",{ProxyUpload:s,RawUpload:l,BrowserTab:c,Article:A,Message:u,ListDropdownApi:F,$q:E,Storage:d,List:f,User:C,Mixpanel:p,SiteType:a.VALUE_BUTTON_AVAILABLE_ON_GOOGLE_SCHOLAR,$scope:e,TooltipApi:n})),m.onAddToLibraryClick=B,m.onDownloadPdfClick=v,m.listenForMessages=D,m.initArticles(t),m.loadArticles(),m.listenForTooltip(),m.listenForMessages(t)}i.$inject=["GoogleScholarIds","$scope","TooltipApi","$controller","ProxyUpload","RawUpload","BrowserTab","Article","Message","ListDropdownApi","$q","Storage","List","User","Mixpanel"];var r=n(2),o=(n(8),n(1)),a=(n(15),n(0));r.module("App").controller("List",i)},function(t,e,n){var i=n(166);n(4)(function(){window.injectedReadcubeExtension||(i.insertAngularDirectives(),n(165),i.bootstrapAngular(),window.injectedReadcubeExtension=!0)})}],[227]);